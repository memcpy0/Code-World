> æœ¬æ–‡å±äºã€Œå¾æœLeetCodeã€ç³»åˆ—æ–‡ç« ä¹‹ä¸€ï¼Œè¿™ä¸€ç³»åˆ—æ­£å¼å¼€å§‹äº2021/08/12ã€‚ç”±äºLeetCodeä¸Šéƒ¨åˆ†é¢˜ç›®æœ‰é”ï¼Œæœ¬ç³»åˆ—å°†è‡³å°‘æŒç»­åˆ°åˆ·å®Œæ‰€æœ‰æ— é”é¢˜ä¹‹æ—¥ä¸ºæ­¢ï¼›ç”±äºLeetCodeè¿˜åœ¨ä¸æ–­åœ°åˆ›å»ºæ–°é¢˜ï¼Œæœ¬ç³»åˆ—çš„ç»ˆæ­¢æ—¥æœŸå¯èƒ½æ˜¯æ°¸è¿œã€‚åœ¨è¿™ä¸€ç³»åˆ—åˆ·é¢˜æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä»…ä¼šè®²è§£å¤šç§è§£é¢˜æ€è·¯åŠå…¶ä¼˜åŒ–ï¼Œè¿˜ä¼šç”¨å¤šç§ç¼–ç¨‹è¯­è¨€å®ç°é¢˜è§£ï¼Œæ¶‰åŠåˆ°é€šç”¨è§£æ³•æ—¶æ›´å°†å½’çº³æ€»ç»“å‡ºç›¸åº”çš„ç®—æ³•æ¨¡æ¿ã€‚
> <b></b>
> ä¸ºäº†æ–¹ä¾¿åœ¨PCä¸Šè¿è¡Œè°ƒè¯•ã€åˆ†äº«ä»£ç æ–‡ä»¶ï¼Œæˆ‘è¿˜å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼š[https://github.com/memcpy0/LeetCode-Conquest](https://github.com/memcpy0/LeetCode-Conquest)ã€‚åœ¨è¿™ä¸€ä»“åº“ä¸­ï¼Œä½ ä¸ä»…å¯ä»¥çœ‹åˆ°LeetCodeåŸé¢˜é“¾æ¥ã€é¢˜è§£ä»£ç ã€é¢˜è§£æ–‡ç« é“¾æ¥ã€åŒç±»é¢˜ç›®å½’çº³ã€é€šç”¨è§£æ³•æ€»ç»“ç­‰ï¼Œè¿˜å¯ä»¥çœ‹åˆ°åŸé¢˜å‡ºç°é¢‘ç‡å’Œç›¸å…³ä¼ä¸šç­‰é‡è¦ä¿¡æ¯ã€‚å¦‚æœæœ‰å…¶ä»–ä¼˜é€‰é¢˜è§£ï¼Œè¿˜å¯ä»¥ä¸€åŒåˆ†äº«ç»™ä»–äººã€‚
> <b></b>
> ç”±äºæœ¬ç³»åˆ—æ–‡ç« çš„å†…å®¹éšæ—¶å¯èƒ½å‘ç”Ÿæ›´æ–°å˜åŠ¨ï¼Œæ¬¢è¿å…³æ³¨å’Œæ”¶è—[å¾æœLeetCodeç³»åˆ—æ–‡ç« ç›®å½•](https://memcpy0.blog.csdn.net/article/details/119656559)ä¸€æ–‡ä»¥ä½œå¤‡å¿˜ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `heights`Â ï¼Œè¡¨ç¤ºå»ºç­‘ç‰©çš„é«˜åº¦ã€‚å¦æœ‰ä¸€äº›ç –å—Â `bricks`Â å’Œæ¢¯å­Â `ladders`Â ã€‚

ä½ ä»å»ºç­‘ç‰©Â `0`Â å¼€å§‹æ—…ç¨‹ï¼Œä¸æ–­å‘åé¢çš„å»ºç­‘ç‰©ç§»åŠ¨ï¼ŒæœŸé—´å¯èƒ½ä¼šç”¨åˆ°ç –å—æˆ–æ¢¯å­ã€‚

å½“ä»å»ºç­‘ç‰©Â `i`Â ç§»åŠ¨åˆ°å»ºç­‘ç‰©Â `i+1`ï¼ˆä¸‹æ ‡Â **ä» 0 å¼€å§‹**Â ï¼‰æ—¶ï¼š

- å¦‚æœå½“å‰å»ºç­‘ç‰©çš„é«˜åº¦Â **å¤§äºæˆ–ç­‰äº**Â ä¸‹ä¸€å»ºç­‘ç‰©çš„é«˜åº¦ï¼Œåˆ™ä¸éœ€è¦æ¢¯å­æˆ–ç –å—
- å¦‚æœå½“å‰å»ºç­‘çš„é«˜åº¦Â **å°äº**Â ä¸‹ä¸€ä¸ªå»ºç­‘çš„é«˜åº¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â **ä¸€æ¶æ¢¯å­**Â æˆ–Â **`(h[i+1] - h[i])`Â ä¸ªç –å—**

å¦‚æœä»¥æœ€ä½³æ–¹å¼ä½¿ç”¨ç»™å®šçš„æ¢¯å­å’Œç –å—ï¼Œè¿”å›ä½ å¯ä»¥åˆ°è¾¾çš„æœ€è¿œå»ºç­‘ç‰©çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡Â **ä» 0 å¼€å§‹**Â ï¼‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/10/31/q4.gif)

**è¾“å…¥ï¼š**heights = [4,2,7,6,9,14,12], bricks = 5, ladders = 1
**è¾“å‡ºï¼š**4
**è§£é‡Šï¼š**ä»å»ºç­‘ç‰© 0 å‡ºå‘ï¼Œä½ å¯ä»¥æŒ‰æ­¤æ–¹æ¡ˆå®Œæˆæ—…ç¨‹ï¼š
- ä¸ä½¿ç”¨ç –å—æˆ–æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 1 ï¼Œå› ä¸º 4 >= 2
- ä½¿ç”¨ 5 ä¸ªç –å—åˆ°è¾¾å»ºç­‘ç‰© 2 ã€‚ä½ å¿…é¡»ä½¿ç”¨ç –å—æˆ–æ¢¯å­ï¼Œå› ä¸º 2 < 7
- ä¸ä½¿ç”¨ç –å—æˆ–æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 3 ï¼Œå› ä¸º 7 >= 6
- ä½¿ç”¨å”¯ä¸€çš„æ¢¯å­åˆ°è¾¾å»ºç­‘ç‰© 4 ã€‚ä½ å¿…é¡»ä½¿ç”¨ç –å—æˆ–æ¢¯å­ï¼Œå› ä¸º 6 < 9
æ— æ³•è¶Šè¿‡å»ºç­‘ç‰© 4 ï¼Œå› ä¸ºæ²¡æœ‰æ›´å¤šç –å—æˆ–æ¢¯å­ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**heights = [4,12,2,7,3,18,20,3,19], bricks = 10, ladders = 2
**è¾“å‡ºï¼š**7

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š**heights = [14,3,19,3], bricks = 17, ladders = 0
**è¾“å‡ºï¼š**3

**æç¤ºï¼š**

- `1 <= heights.length <= 105`
- `1 <= heights[i] <= 106`
- `0 <= bricks <= 109`
- `0 <= ladders <= heights.length`

---
å‰è¨€
è¿™é“é¢˜å¥½åƒæ•°æ®åˆå¤ªå¼±äº†ï¼Ÿæ‰€æœ‰ä¸åŸºäºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆç›´æ¥æ’åºä¹Ÿè¡Œï¼‰çš„è´ªå¿ƒç®—æ³•éƒ½æ˜¯é”™çš„ï¼Œå¯ä»¥è¯•è¯•ä¸‹é¢è¿™ç»„æµ‹è¯•æ•°æ®ï¼š

[1,5,1,2,3,4]
4
1
æ–¹æ³•ä¸€ï¼šä¼˜å…ˆé˜Ÿåˆ— + è´ªå¿ƒ
æ€è·¯ä¸ç®—æ³•

åœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šéœ€è¦è‹¥å¹²æ¬¡éœ€è¦ä½¿ç”¨ç –å—æˆ–è€…æ¢¯å­çš„æƒ…å†µã€‚å‡è®¾å½“å‰æˆ‘ä»¬éœ€è¦ç§»åŠ¨åˆ°ä¸‹ä¸€å»ºç­‘ç‰©ï¼Œä½†å¿…é¡»ä½¿ç”¨ 111 æ¶æ¢¯å­æˆ–è€… Î”h\Delta hÎ”h ä¸ªç –å—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æŠ‰æ‹©æ˜¯ä½¿ç”¨æ¢¯å­è¿˜æ˜¯ç –å—å‘¢ï¼Ÿ

æˆ‘ä»¬å¯ä»¥ç”¨è´ªå¿ƒçš„æ€è·¯æ¥æƒ³è¿™ä¸ªé—®é¢˜ã€‚ã€Œæ¢¯å­ã€ç›¸å½“äºä¸€æ¬¡æ€§çš„æ— é™é‡ç –å—ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šæ˜¯æŠŠæ¢¯å­ç”¨åœ¨åˆ€åˆƒä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ lll æ¶æ¢¯å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šåœ¨ Î”h\Delta hÎ”h æœ€å¤§çš„é‚£ lll æ¬¡ä½¿ç”¨æ¢¯å­ï¼Œè€Œåœ¨å‰©ä½™çš„æƒ…å†µä¸‹ä½¿ç”¨ç –å—ã€‚

è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç®—æ³•äº†ï¼šæˆ‘ä»¬ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®æ—¶ç»´æŠ¤ä¸è¶…è¿‡ lll ä¸ªæœ€å¤§çš„ Î”h\Delta hÎ”hï¼Œè¿™äº›å°±æ˜¯ä½¿ç”¨æ¢¯å­çš„åœ°æ–¹ã€‚å¯¹äºå‰©ä½™çš„ Î”h\Delta hÎ”hï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ç –å—ï¼Œå› æ­¤éœ€è¦å¯¹å®ƒä»¬è¿›è¡Œç´¯åŠ ï¼Œå¦‚æœæŸä¸€æ—¶åˆ»è¿™ä¸ªç´¯åŠ å€¼è¶…è¿‡äº†ç –å—çš„æ•°ç›® bbbï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å†ä¹Ÿæ— æ³•ç§»åŠ¨äº†ã€‚

ä»£ç 

C++
Python3
class Solution {
public:
    int furthestBuilding(vector<int>& heights, int bricks, int ladders) {
        int n = heights.size();
        // ç”±äºæˆ‘ä»¬éœ€è¦ç»´æŠ¤æœ€å¤§çš„ l ä¸ªå€¼ï¼Œå› æ­¤ä½¿ç”¨å°æ ¹å †
        priority_queue<int, vector<int>, greater<int>> q;
        // éœ€è¦ä½¿ç”¨ç –å—çš„ delta h çš„å’Œ
        int sumH = 0;
        for (int i = 1; i < n; ++i) {
            int deltaH = heights[i] - heights[i - 1];
            if (deltaH > 0) {
                q.push(deltaH);
                // å¦‚æœä¼˜å…ˆé˜Ÿåˆ—å·²æ»¡ï¼Œéœ€è¦æ‹¿å‡ºä¸€ä¸ªå…¶ä¸­çš„æœ€å°å€¼ï¼Œæ”¹ä¸ºä½¿ç”¨ç –å—
                if (q.size() > ladders) {
                    sumH += q.top();
                    q.pop();
                }
                if (sumH > bricks) {
                    return i - 1;
                }
            }
        }
        return n - 1;
    }
};
class Solution:
    def furthestBuilding(self, heights: List[int], bricks: int, ladders: int) -> int:
        n = len(heights)
        # ç”±äºæˆ‘ä»¬éœ€è¦ç»´æŠ¤æœ€å¤§çš„ l ä¸ªå€¼ï¼Œå› æ­¤ä½¿ç”¨å°æ ¹å †
        q = list()
        # éœ€è¦ä½¿ç”¨ç –å—çš„ delta h çš„å’Œ
        sumH = 0
        for i in range(1, n):
            deltaH = heights[i] - heights[i - 1]
            if deltaH > 0:
                heapq.heappush(q, deltaH)
                # å¦‚æœä¼˜å…ˆé˜Ÿåˆ—å·²æ»¡ï¼Œéœ€è¦æ‹¿å‡ºä¸€ä¸ªå…¶ä¸­çš„æœ€å°å€¼ï¼Œæ”¹ä¸ºä½¿ç”¨ç –å—
                if len(q) > ladders:
                    sumH += heapq.heappop(q)
                if sumH > bricks:
                    return i - 1
        return n - 1

ä½œè€…ï¼šzerotrac ğŸŒ¸
é“¾æ¥ï¼šhttps://leetcode.cn/problems/furthest-building-you-can-reach/solutions/468787/ke-yi-dao-da-de-zui-yuan-jian-zhu-by-zerotrac2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼šO(nlogâ¡l)O(n \log l)O(nlogl)ï¼Œå…¶ä¸­ nnn æ˜¯å»ºç­‘ç‰©çš„æ•°é‡ï¼Œlll æ˜¯æ¢¯å­çš„æ•°é‡ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(l)O(l)O(l)ã€‚

ä½œè€…ï¼šzerotrac ğŸŒ¸
é“¾æ¥ï¼šhttps://leetcode.cn/problems/furthest-building-you-can-reach/solutions/468787/ke-yi-dao-da-de-zui-yuan-jian-zhu-by-zerotrac2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚