@[toc]

数据通信与网络正在改变人们商务活动和生活方式。但在问及**如何更快地连接到网络**之前，需要知道**网络是如何运转的**、**网络使用哪些类型的技术**、以及**何种设计最能够满足什么样的需要**。

个人计算机的发展带来了商业、工业、科学与教育的巨大变革。数据通信与网络领域也正发生着一场类似的革命。技术的进步使得通信链路能够承载更多更快的信号。因此，服务也向前发展，允许使用扩展的功能，包括对已有电话业务的扩展项目，比如电话会议、呼叫等待、语音邮件。

现在用新的技术研究数据通信与网络。其目标是==能够在世界的任何地点交换诸如文本、音频和图像之类的数据，希望在任何时间都能登录因特网，快速而准确地下载和上传信息==。

这里讨论四个问题：**数据通信、网络、因特网**以及**协议和标准** `data communications, networks, the Internet, and protocols and standards` 。首先**给出数据通信广义的定义**，然后**将网络定义为数据传输的高速公路**。互联网络（即网络的网络）的一个好的实例是**因特网**。最后，**讨论不同类型的协议、协议和标准之间的区别以及制定这些标准的组织机构**。

---
# 1.1 数据通信
当我们通信时，就共享了信息。这种共享可以是本地的，也可以是远程的。就个体之间而言，**本地通信通常是面对面发生的，而远程通信发生在一定的距离之间**。**电信** `telecommunication` 这个词，包括电话、电报和电视，**意味着在一定距离上的通信**（`tele` 是希腊语，即"远程的"）。**数据**（`data` 一词指的是以任何格式表示的信息，该格式需经由「创建和使用数据的双方」达成共识。

**数据通信** `data communication` 是==在两台设备之间通过「诸如线缆的某种形式的传输介质」进行的数据交换==。因为数据通信的发生，通信设备必然成为由软（程序）硬（物理设备）件结合组成的通信系统的一部分。

**数据通信系统的效率取决于四个关键因素：传递性、准确性、及时性和抖动性**。
1. **传递性** `Delivery` 。**系统必须将数据传递到正确的目的地**。数据必须由而且只能由预定的设备或用户接收。
2. **准确性** `Accuracy` 。**系统必须准确地传递数据**。在传递过程中发生改变和不正确的数据，都是不可用的。
3. **及时性** `Timeliness` 。**系统必须以及时的方式传递数据**。传递延误的数据是无用的。就视频和音频数据而言，及时传递意味着在数据产生时就传递数据，所传递数据的顺序和产生时的顺序相同，而且没有明显的延迟。这种传递称为实时传输。
4. **抖动性** `Jitter` 。抖动是指分组到达时间的变化，音频或视频的分组在传递过程中延迟各不相同。比如，假定每 $30\textrm{ms}$ 发送一个视频的分组，其中某些分组到达延时 $30\textrm{ms}$ ，而另一些分组延时 $40\textrm{ms}$ ，就引起视频不均匀后果。

## 1.1.1 组成
**数据通信系统需要有五个组成部分**（见图1.1）。
![图1.1数据通信的五个组成部分](https://img-blog.csdnimg.cn/2bf8dbb4747d4ddb95aed598259193fd.png)
1. **报文** `message` 是进行通信的信息（数据），它可以是文本、数字、图片、声音、视频等信息形式。
2. **发送方** `sender` 是指发送数据报文的设备，它可以是计算机、工作站、手机、摄像机等。
3. **接收方** `receiver` 是指接收报文的设备，它可以是计算机、工作站、手机、电视等。
4. **传输介质** `transmission medium` 是报文从发送方到接收方之间所经过的物理通路，它可以是双绞线、同轴电缆 、光纤和无线电波。
5. **协议** `protocol` 是**管理数据通信的一组规则**，它表示通信设备之间的一组约定。如果没有协议，即使两台设备之间可能是连接的，那也无法通信，就像一个说法语的人无法被一个只说日语的人理解一样。

## 1.1.2 数据表示
现在的信息有文本、数字、图像、音频和视频等多种形式。
- **文本**：**在数据通信中，文本表示为位模式，即位 $0$ 或 $1$序列**。模式中位的数目取决于该文本中的符号数目。每一种位模式称为一种**编码** `code` ，表示符号的过程称为**编码过程**。当前流行的编码系统是**统一码** `Unicode` ，用 $32$ 位表示一个符号或字符，它可表示世界上任何一种语言。几十年前，美国制定的**美国信息交换标准代码** `American Standard Code for Information Interchange, ASCII` 现在是统一码前面的 $127$ 个字符，也称为**基本拉丁字符集** `Basic Latin` 。
- **数字**：**数字也用位模式表示**。但诸如ASCII的编码不是用来表示数字的。数字直接转换为二进制数。原因是简化数字的数学运算。
- **图像**：现在，**图像 `image` 也采用位模式表示**。就最简单的形式而言，图像被划分成像素（图片的基本元素）矩阵，每个像素是一个小点。**像素的多少取决于称为分辨率的因素**。例如，一幅图像可以划分成 $1000$ 像素或 $10000$ 像素，后一种有更清晰的图像表示（更高分辨率），但需要更多的内存来存储图像。
    **将图像划分成像素，对每个像素分配一个位模式**。模式的大小和值取决于该图像，就一幅仅由黑白点（例如棋盘）构成的图像而言，$1$ 位模式就足以表示一个像素。
    如果像素不是由纯白或纯黑的像素构成，则可通过增加位模式的大小来包含更多的灰度范围。例如，可以采用 $2$ 位模式来表示 $4$ 个级别的灰度 。 黑像素可以用 $00$ 表示，深灰像素用 $01$ ，浅灰像素用 $10$ ，白像素用 $11$ 来表示制。
    有几种方法表示彩色图像：一种方法是每个颜色像素被分解为三原色 `three primary colors` ：红、绿、蓝 `RGB` ，然后测量每种色彩的浓度，并为其赋予一种位模式；另一种方法是每个颜色像素被分解为三原色：黄、紫、青 `yellow, cyan, and magenta, YCM` 。
- **音频** `audio` ：**指录音带、声音广播或音乐等声音的表示**。音频与文本、数字或图像有本质的不同。它是**连续的、非离散的**。即使用麦克风将声音或音乐转换成电信号，所产生的也是一个连续的信号。[【计算机网络】第二部分 物理层和介质(4) 数字传输](https://memcpy0.blog.csdn.net/article/details/122147006)和[【计算机网络】第二部分 物理层和介质(5) 模拟传输]()介绍，如何将声音或音乐转换成数字或模拟信号。
- **视频** `video` ：**指录像带、图像或动画的合成**，==既可以由一个连续实体（如电视摄像机 `TV camera`）产生，也可以由一组图像或动画合成，这些图像的每一幅都是一个离散的实体，组织起来即可表示运动的意思==。正如第4章和第5章所述，同样可以将视频转换为数字或模拟信号。
## 1.1.3 数据流
两台设备之间的通信可以是单工、半双工或全双工的 `simplex, half-duplex, or full-duplex` ，如图1.2所示。
![图1.2 数据流(单工、半双工和全双工)](https://img-blog.csdnimg.cn/b460ed62004b4f0eb81e13d131a6f164.png)
- **单工**：在单工模式 `simplex mode` 下，通信是单方向的，如同在单行道上，**两台设备只有一台能够发送，另一台则只能接收**（见图1.2a）。键盘和传统的显示器都是单工通信设备。键盘只能用来输入，显示器只能接受输出。单工模式仅具有一个方向发送能力。
- **半双工**：在半双工模式 `half-duplex mode` 下，每台主机均能发送和接收，但不能同时进行。**当一台设备发送时，另一台只能接收，反之亦然**（见图1.2b）。半双工如同一条双向单车道的道路。当一辆辆汽车正朝一个方向行驶时，想朝另一个方向行驶的汽车就必须等待。**在半双工模式下，通道的通信能力被两台设备中的发送方完全占用**。对讲机和（民用波段 `citizens band` ）CB无线电设备都是半双工系统的例子。**半双工模式用于不需要双方同时通信的情况，每一方可利用整个通道的能力**。
- **全双工**：在全双工模式（`full-duplex mode` 也称双工 `duplex`）下，**双方主机都能同时发送和接收**（见图1.2c）。全双工模式如同一条双向大道，同时有驶向两个方向的车辆。**在全双工模式下，两个方向的信号共享该链路的通信能力**。==共享可以采用两种方式：链路包含两条物理上独立的传输通路，其中一条用于发送、另一条用于接收；或者，将通道的通信能力在「两个方向传输的信号」间进行划分==。
常见的全双工的例子是电话网络。当两个人通过电话进行通信时，他们都能同时说和听。**当要求双方同时通信时，采用全双工，然而通道的通信能力必须在两个方向之间进行划分**。

---
# 1.2 网络
**网络** `network` 是**用通信链路连接起来的设备**（通常称为节点）**的集合**。节点可能是一台计算机，也可能是打印机，还可能是其他任何能够发送或接收数据的设备。
## 1.2.1 分布式处理
大多数网络采用**分布式处理** `distributed processing` ，将任务划分给多台计算机。不是让一台大型机负责所有的处理，而是由多台独立的计算机（通常是个人计算机或工作站）各自处理一小部分。
## 1.2.2 网络准则
网络必须能够满足一定的准则 `Network Criteria` ，其中最为重要的是**性能、可靠性和安全性**。
### 1. 性能
**性能** `performance` 可以用多种方式来衡量，包括传输时间和响应时间。传输时间是指**报文从一台设备传输到另一台设备所需的时间**。响应时间是指**请求和响应之间所花费的时间**。网络性能取决于多种因素，包括用户的数量、传输介质类型、所连接的硬件的能力以及软件的效率。

性能通常由两个网络因素：**吞吐量** `throughput` 和**延迟** `delay` 来度量，需要更多吞吐量和较小的延迟时间，但是**这两个判断标准时常是矛盾的**。==如果我们在网络上发送更多的数据，可能增加吞吐量，但由于网络通信量的拥塞，会增加延迟时间==。

### 2. 可靠性
除了传输的准确性之外，网络的**可靠性** `reliability `用故障出现的频率、一条链路从故障恢复所花费的时间、在灾难中的健壮性来衡量。
### 3. 安全性
网络的**安全性** `security` 包括保护数据免受未授权的访问，保护数据在传输过程中免受攻击，数据丢失与损伤的恢复策略和方法。
## 1.2.3 物理结构
在讨论网络之前，需要定义一些网络属性。
### 1. 连接类型
网络是通过链路连接在一起的两台或两台以上的设备，链路是将数据由一台设备传输到另一台设备的通信通路。为了更直观地说明问题，最简单的情形，可以将链路想象为在两点之间连接的线。==要想建立通信，两台设备必须以某种方式在同一时间连接到同一链路上。有两种可能的连接方式：**点到点方式**和**多点方式**==。
- **点到点** `point-to-point` 连接**提供两台设备之间专用的链路**。链路全部的能力均为两台设备之间的传输所共用。大多数点到点连接，采用实际长度的线或电缆来连接两端，但诸如微波或卫星链路的其他选择也是可行的（见图1.3a）。当使用红外线遥控器切换电视频道时，就在遥控器和电视控制系统之间建立了一条点到点连接。
- **多点连接** `multipoint connection` 也称为**多站连接** `multidrop connection` 是**两台以上设备共享单一链路的情形**（见图1.3b）。在多点环境中，通道的能力在空间或时间上共享。==如果同时可以有多台设备使用链路，这是**空间上共享连接**；如果用户必须轮流使用，这是**时间上共享连接**==。
![图1.3连接类型：点到点连接与多点连接](https://img-blog.csdnimg.cn/46efc66a433a489ca4999ec8a23e1901.png)
### 2. 物理拓扑结构
**物理拓扑结构** `physical topology` 一词指的是**网络在物理上分布的方式**。两台或更多的设备连接到一条链路，两条或更多的链路组成拓扑结构。**网络拓扑结构**是**所有链路及其互相连接的设备**（通常称为节点）**之间关系的几何表示**。有四种可能的基本拓扑结构：网状、星型、总线和环状（见图1.4）。
![图1.4 拓扑结构分类](https://img-blog.csdnimg.cn/9dfbfde92fd04dd1a76fc5230e398303.png)
#### (1) 网状
在**网状拓扑结构** `mesh topology` 中，**各台设备之间都有一条专用的点到点链路**。"专用的"这个词意味着，该链路只负责它所连接的两台设备间的通信量。

为了求 $n$ 个节点的、一个全连接的网状网络中物理通道的个数，节点 $1$ 必须与其他 $n-1$ 个节点相连，节点 $2$ 必须与其他 $n-1$ 个节点相连，依此类推，最后节点 $n$ 也必须与其他 $n-1$ 个节点相连。因此，需要 $n(n-1)$ 条物理链路。然而，如果每条链路允许双向通信（双工模式），则链路个数除以 $2$ 。即可以说，==在网状拓扑结构中需要 $n(n-1)/2$ 条双工模式的链路，为了提供这么多数量的链路，网络中的每台设备必须有 $n-1$ 个输入/输出端口==（见图1.5）。
![图1.5 全连接网状拓扑结构（5台设备）](https://img-blog.csdnimg.cn/ce9e9823915549e8a6a1a816315c7fc5.png)

与其他网络拓扑结构相比，网状结构具有诸多优点：
- 首先，专用链路的使用**保证了每条链路都能传输自己的数据载荷**，因此，消除了「当链路被多台设备共享时」可能发生的通信量问题。
- 其次，**网状拓扑结构是健壮的**。即使一条链路变得不可用，也不会使得整个系统不可用。
- 另一个优点是**机密性或安全性**。每一个报文经过专用线路传输时，只有特定的接收方才能看到它。物理边界阻止其他用户获得对报文的访问权。
- 最后，**使用点到点链路，容易进行故障识别和故障隔离**。对通信量进行路由时会尽量避免有问题的链路。这些设施使网络管理员能找到故障的确切位置，有助于寻找其原因和解决办法。

网状拓扑结构的主要不利因素与**所需的线缆和I/O端口的数目**有关：
- 首先，因为每台设备都必须与其他所有设备相连，**安装和重新连接十分困难**。
- 其次，单就**线缆的数量**而言，就可能超过可利用空间（在墙内、天花板或地板里）的容纳能力。
- 最后，**为连接每个链路所需的硬件**（I/O端口和电缆）**的价格也是可观的**。

由于以上原因，**网状拓扑结构通常在有限的环境下使用**。例如，作为混合网络（这些混合网络可能包括多种拓扑结构）主要计算机的主干连接。一个网状拓扑结构实例是==电话区域交换局的连接，每个区域交换局必须与其他每个交换局连接==。

#### (2) 星型
在**星型拓扑结构** `star topology` 中，**每台设备拥有一条仅与中央控制器连接的点到点专用链路**，该中央控制器通常称为**集线器** `hub` 。

这些设备不是直接相互连接的。与网状拓扑结构不同，**星型拓扑结构不允许设备之间有直接的通信量**。集线器扮演交换的角色：如果一台设备想发送数据到另外一台，它需要将数据发到集线器，然后由集线器将数据转送给所连接的另一台设备（见图1.6）。
![图1.6 连接4个工作站的星型拓扑结构](https://img-blog.csdnimg.cn/34bac84559b544d19388af77fbb9eea6.png)

星型拓扑结构的优点是：
- **不如网状拓扑结构那样昂贵**。在星型拓扑结构中，每台设备仅需要一条链路和一个I/O端口，即可与任何数目的其他设备相连。这种因素也使得**该拓扑结构易于安装和重新配置**。需要安装的线缆更少，增加、移动和删除链路只涉及一条连接，即该设备和集线器之间的那条连接。
- 另一个优点是**健壮性**。如果一条链路失败，就只有该链路受影响。其他所有的链路仍然起作用。这也**易于进行故障识别和故障隔离**。只要集线器正在工作，它就可以用来监控链路中出现的问题，并旁路出现问题的链路。

星型拓扑结构最大的缺点是**依赖于集线器，如果集线器出了毛病，则整个系统就瘫痪**。然而，尽管星型链路需要比网状拓扑结构少得多的钱缆，但每条链路仍需要连接到中央的集线器。因此，**星型结构通常需要比其他拓扑结构**（比如环状结构和总线结构）**更多的线缆**。

**星型拓扑结构用于局域网 `LAN` 中**，在[【计算机网络】第三部分 数据链路层(13) 有线局域网：以太网](https://memcpy0.blog.csdn.net/article/details/123059031)中会看到，高速局域网常用星型拓扑结构。
#### (3) 总线
前面的几个例子描述的都是点到点连接。相反，**总线拓扑结构** `bus topology` 是多点连接，由一条较长的线缆作为**主干** `backbone` 来连接网络上所有的设备（见图1.7）。
![图1.7 连接3个工作站的总结拓扑结构](https://img-blog.csdnimg.cn/9b6058b4f5c943c6bc422bd06832e230.png)
节点由**引出线** `drop line` 和**分接头** `tap` 连接到总线电缆。引出线是在设备和主线缆之间运行的连接。分接头是一个连接器，该连接器焊入主线缆或者穿过线缆的外皮与金属芯接触。当信号经过主干传输时，部分能量转化为热能。因此，当信号传输得越来越远时会变得越来越微弱。因为这种原因，**总线所能支持的分接头数目、以及这些分接头之间的距离是有限的**。

总线拓扑结构的优势包括**安装简易**。主干电缆以最高效的路径来铺设，然后通过不同长度的引出线连接到节点。这样，总线结构使用的线缆要少于网状和星型结构。例如，星型结构中，同一个房间中的四台设备需要四条与集线器连接的电缆，而采用总线结构则不需要这么多电缆。只有主干电缆铺设于整个房间之中，每条引出线只需到达主干线上最近的节点。

不利因素包括**难以重新连接和进行错误隔离**。总线结构通常设计成在安装时达到最优，因此增加新设备是比较困难的。在分接头产生的信号反射会造成质量下降，可以通过限制「连接到给定长度电缆的设备的数量和间距」来控制这种质量下降的问题。增加新设备可能因此需要改造或替换主干线。

另外，==总线电缆上的错误或中断会使所有的传输中止，即使位于故障区域同一侧的设备之间也不能幸免==。故障区域会将源方向的信号反射回去，从而在两个方向上产生噪音。

总线拓扑结构是早期局域网所用的结构之一，以太局域网就用总线拓扑结构，但**现在不常用**。
#### (4) 环状
在**环状拓扑结构** `ring topology` 中，每台设备只与其两侧的设备有一条专用的点到点的连接。**信号以一个方向在环中传输，从一台设备到达另一台设备，直到其到达目的设备**。==环中的每台设备中安装有一个**中继器**，当设备接收到发给另一台设备的信号时，它的中继器会再生并转发这些位==（见图1.8）。
![图1.8 连接6个工作站的环状拓扑结构](https://img-blog.csdnimg.cn/7b7e225986ad4e2e8349d4edbb03208c.png)
相对而言，环状结构**易于安装和重新配置**。==每台设备只与其直接邻居（物理或者逻辑的）连接，要增加或删除设备只需要改变两条连接==。唯一的约束在于介质和通信量方面的考虑（环最大长度和设备的最大数目）。另外，这种结构还**简化了故障隔离**。一般地，在环状结构中，信号始终是循环的。如果一台设备在指定的时间中没有接收到信号，它就会发出警报，该警报会向网络操作员告知问题及其位置。

然而，**单向通信量可能是不利因素**。在简单的环中，环中的故障（比如工作站的瘫模）可能使整个网络瘫摸。这个缺陷可以通过**引入双环**或**使用能够旁路故障的开关**得到弥补。

IBM引入令牌环局域网时，环状拓扑结构曾盛行一时，目前要求高速局域网，**这种拓扑结构就不流行了**。

#### (5) 混合型
网络可以是混合型拓扑结构。例如，具有分支的星型拓扑结构，其中每一个分支是连接一些工作站的总线结构，如图1.9所示。
![图1.9 混合型拓扑结构：一个星型结构为主干并具有三个总线结构的网络](https://img-blog.csdnimg.cn/58259a7795234acf913aff7aa040d727.png)

## 1.2.4 网络模型
计算机网络是由许多实体组成，需要标准协调网络之间的通信。最著名的两个标准是**OSI模型**和**因特网模型**。在第2章中将讨论这两个模型。OSI开放系统互联模型定义了网络 $7$ 层模式，而因特网模型定义网络 $5$ 层模式。我们基于 `the Internet model with occasional references to the OSI model` 。
## 1.2.5 网络分类
如今，当谈到网络时，通常指的是两种主要类型的网络：局域网和广域网。**网络归于哪种类型，主要取决于它的规模**。局域网覆盖的范围小于 $2$ 英里，广域网可以是世界范围。网络规模在这两者之间，常称为城域网，覆盖范围十几英里。

### (1) 局域网
**局域网** `local area network, LAN` 通常是专用的，连接的设备在一间简单的办公室、一幢建筑物或校园中（见图1.10）。根据组织机构的需要和所采用技术的类型，局域网可能像办公室中只有两台PC机和一台打印机那样简单，也可能延伸到整个公司，并且包括音频和视频等外围设备。目前，LAN的规模限制在几公里的范围内。
![图1.10 在房间中 12台计算机连接到一个集线器的独立局域网](https://img-blog.csdnimg.cn/cf6ad2764e404237b71128346dddf940.png)
**LAN设计用来共享个人计算机或工作站之间的资源**。共享的资源可能包括硬件（比如打印机）、软件（比如应用程序）或者数据。在商业环境中，LAN的常见的例子是，用来连接与任务相关的工作组中的计算机，例如工程工作站或财务用PC。假定这些计算机中的某一台有大容量的磁盘驱动器，可以作为其他客户机的服务器。软件可以存储在这台中央服务器上，供整个工作组使用。在这种情况下，LAN的规模取决于每套软件拷贝的用户数目的许可限制，或者取决于操作系统允许访问的用户数目。

==除了规模之外，LAN与其他类型的网络的区别，还在于它的传输介质和拓扑结构==。通常，**给定的LAN仅使用一种类型的传输介质**。最常见的LAN拓扑结构是总线结构、环状结构和星型结构。

传统上，LAN的数据速率在每秒 $4\sim 16 \textrm{Mbps}$ 之间。现在，随着吉位系统的开发，速度在不断增加以至可以达到 $100\textrm{Mbps}$ 。LAN在第13 、14和15章有详细讨论。无线局域网是最新的局域网技术，在第14章中详细讨论无线局域网。

### (2) 广域网
**广域网** `wide area network, WAN` 提供远距离的数据、音频、图像和视频信息传输，传输跨越的地理区域包括国家、大法甚至整个世界。将在第17章和第18章更详细地讨论广域网。

广域网可以复杂到用主干连接因特网，也可以简单到用拨号线连接家用计算机到因特网。通常广域网首先指的是**交换广域网** `switched WAN` ，其次是**点到点广域网** `point-to-point WAN`（见图1.11）。
- 交换广域网连接端系统，该系统含有一个**路由器**（网际互联设备），它连接另一个局域网或广域网。
- 点到点广域网通常是从电话局或有线电视电缆提供商处租用专线，连接家用计算机或小型LAN到因特网服务提供商 `lSP` 。**这种广域网通常用于提供互联网接入**。 
![图1.11 广域网：交换广域网和点到点广域网](https://img-blog.csdnimg.cn/24c949c695d3409d8983972ae50bf8d8.png)

一个最早的交换广域网实例是**X.25**，它是为端用户之间提供连接而设计的。在第18章看到，X.25逐渐地被高速的、更高效的**帧中继网络**所代替。交换广域网一个好的实例是**异步传输模式 `asynchronous transfer mode, ATM` 网络**，它是一个使用固定大小的数据单元数据包（称为**信元**）的网络，在第18章中讨论。另一个广域网的实例是无线广域网，它越来越流行，在第16章中讨论。
### (3) 城域网
**城域网** `metropolitan area network, MAN` 规模界于局域网与广域网之间，它通常的覆盖范围是一个乡镇或一个城市。它是为需要高速地连接因特网的用户而设计的，端点可分布在整个城市或城市的一部分。

城域网的一个好的实例是**可向用户提供高速DSL线路的电话网**。另一个实例是**有线电视网络**，它原先是为有线电视而设计的，但现在也可用作到因特网的高速数据连接。在[【计算机网络】第二部分 物理层和介质(9) 使用电话网络和有线电视网进行数据传输](https://memcpy0.blog.csdn.net/article/details/122965415)中将讨论DSL线路和有线电视网。
## 1.2.6 网络互联：因特网
今天，很少看到单独的一个局域网、城域网或广域网。它们都是与另一个网络连接的。当两个或多个网络彼此连接，它们成为**互联网络** `internetwork` 即**互联网** `internet` 。

作为实例，假定有两个办公区的组织，一个在东海沿，另一个在西海沿。在西海沿机构已有一个总线拓扑结构的局域网，东海沿机构新建一个星型拓扑结构局域网。CEO住在中间某一地方，他需要在家中控制整个公司情况。为此==创建连接三个实体（两个局域网和总裁的计算机）的主干广域网，租用一个已建立的交换广域网（由服务提供商所运行的，比如电信公司）==。然而，==为了连接两个局域网到这个交换广域网，要求三个点到点的广域网——可以是由电话公司提供的高速DSL线路，或者是由有线电视商提供的电缆调制解调器线路==，如图1.1.2所示。
![图1.12 由四个广域网和两个局域网组成的混合网络](https://img-blog.csdnimg.cn/329cca3b55a448588b271e143ce678b1.png)


---
# 1.3 因特网 
因特网使我们日常生活的许多方面发生了革命性的变化，它是一个通信系统，把信息财富带到我们的指尖之上，将这些信息组织起来为我们所用。

因特网是一个结构化的、组织化的系统。首先简要介绍**因特网的历史**，然后描述**因特网的现状**。
## 1.3.1 历史简介
==**网络**是由连接起来的通信设备（例如计算机和打印机）组成的集合。**互联网络**（`internet` ，注意小写字母 `i`）是两个或多个可以互相通信的网络。最为著名的互联网络称为因特网（`Internet` ，大写字母 `I`），一个由成千上万的互相连接的网络组成的集合==。然而，这个非凡的通信系统直到1969年才刚刚诞生。

在20世纪60年代中期，各研究机构的大型机是相互独立的设备。来自不同制造商的计算机之间不能互相通信。美国国防部 `DoD` 高级研究计划局 `Advanced Research Project Agency, ARPA` 想找到一种能将计算机连接起来、使研究人员能共享他们的研究成果的方式，以达到降低成本、避免重复劳动的目的。

1967年，在美国计算机学会 `ACM` 会议上，ARPA提出了ARPANET的概念，即一个由互相连接的计算机组成的小型网络。它的主要思想是**每台主机**（不必是出自同一个制造商的产品）**应该连接到一台称为接口报文处理器** `inteiface message processor, IMP` **的专用计算机上，IMP也相互之间进行连接**。各个IMP不仅能与各自所连接的主机进行通信，同时也能够与其他IMP进行通信。

到了1969年，ARPANET最终实现。网络是由 $4$ 个节点通过IMP连接而成的，这 $4$ 个节点是 `the University of California at Los Angeles(UCLA), the University of California at Santa Barbara(UCSB), Stanford Research Institute(SRI), and the University of Utah` ，由称为**网络控制协议** `Network Control Protocol, NCP` 的软件提供主机间的通信。

1972年，Vint Cerf和Bob Kahn（两个人都是ARPANET核心组的成员），在一个他们称为网络互联项目的研究项目上进行合作。Cerf和Kahn在1973 年发表的具有里程碑意义的论文中，概要论述了**端到端的信息分组发送协议** `the protocols to achieve end-to-end delivery of packets` 的实现。这篇关于**传输控制协议** `Transmission Control Protocol, TCP` 的论文包含了封装、数据报和网关功能等概念。

此后不久，专家们决定将TCP分成两个协议：传输控制协议 `Transmission Control Protocol, TCP` 和网际协议 `Internetworking Protocol, IP` 。IP负责处理数据报路由，而TCP负责高层功能，比如分段、重组和差错检测。**该互联协议就是我们熟知的TCP/IP协议**。
## 1.3.2 因特网现状
从20世纪60年代以来，因特网的发展经历了漫长的道路。==当今的因特网不是简单的层次结构，它由许多广域和局域网组成，通过连接设备和交换工作站连接起来==。很难确切地表示因特网，因为它在不断地改变一一新的网络不断地加入，已有网络的地址在不断增加，倒闭公司的网络不断地废除。

现在大多数想建立因特网连接的终端用户，使用**因特网服务提供商** `Internet Service Provider, ISP` 提供的服务。有国际服务提供商、国家服务提供商、区域性服务提供商和本地服务提供商。**因特网现在是由私有公司而不是由政府运行的**。因特网的示意图（而不是地理图）如图1.13所示。
![图1.13因特网层次结构组织](https://img-blog.csdnimg.cn/b4ac0783ed6643099db68f2f5661f74f.png)
- 国际服务提供商：在层次结构的顶端是将国家连接起来的国际服务提供商。
- **国家服务提供商** `National Service Provider, NSP` 是由专门的公司创建和维护的主干网络。在北美运营着许多NSP，其中比较著名的是 `SprintLink, PSINet, UUNet Technology, AGIS, internet MCI` 。为了提供终端用户之间的连接，这些主干网络由复杂的交换工作站（通常由第三方运营）连接，称为**网络访问点** `network access point, NAP` 。有些NSP网络也是由称为**对等点** `peering points` 的私有交换工作站连接起来的。NSP通常以很高的数据速率运行（高达 $600\textrm{Mbps}$ ）。
- **区域性因特网服务提供商**即区域性ISP `regional ISP` 是连接到一个或多个 NSP的小型ISP。区域性ISP以较低数据速率运行在第三层。
- **本地因特网服务提供商** `local Internet service provider` 提供到终端用户的直接服务。本地ISP可以连接到区域性ISP或直接连接到NSP。大多数终端用户连接到本地ISP。注意，从这种意义上讲，==本地ISP可以是一个仅仅提供因特网服务的公司，或者是一个为其自身员工提供网络服务的企业，或者是一个运行有自己网络的非盈利组织==（比如学院或者大学）。这些本地ISP可以连接到区域性的或者国家服务提供商。

---
# 1.4 协议和标准
在本节中，**定义两个广泛使用的词：协议和标准**。首先定义**协议，它是规则 `rule` 的同义词**，然后讨论**标准，它是经过协商达成一致的规则 `agreed-upon rules`**。
## 1.4.1 协议
在计算机网络中，通信发生在不同系统的实体之间。**实体是能够发送和接收信息的任何事物**。然而，两个实体间仅发送位流就指望能相互理解，是不可能的。**要实现通信，实体之间必须遵循协议**，==协议是用来管理数据通信的一组规则，它规定了通信的内容、通信的方式和通信的时间==。协议的核心要素是语法、语义和时序。
- **语法** `syntax` 指的是**数据的结构或格式**，即它们是以何种顺序表示的。例如，一个简单的协议可能将第一个 $8$ 位作为发送方的地址，第二个 $8$ 位作为接收方的地址，信息流的其余部分作为报文本身。
- **语义** `semantics` 指的是**每一个位片断的含义**，如何解释一个特别的位模式，基于该解释应该采取什么操作？例如，一个地址是否标示了路由、是否标示了报文的最终目的地址？
- **时序** `timing` 指的是**两个特性：报文发送的时间和发送的速率**。例如，如果发送方以 $100\textrm{Mbps}$ 的速率发送、而接收方只能以 $1\textrm{Mbps}$ 的速率处理数据，那么传输中会使接收方过载、而造成数据的大量丢失。
## 1.4.2 标准
在创立和维护对设备制造商开放并具有竞争力的市场方面，以及在保证数据和电信技术及流程的国家和国际互操作性上，标准都是至关重要的。标准为制造商、销售商、政府部门和其他服务提供商提供了一系列准则，以确保在当今市场和国际通信中实现必要的互连。

数据通信标准分为两类：**事实的** `de facto`（意思是依据事实或依据惯例）和**法定的** `de jure` ，意思是依据总规或依据规则。
- **事实标准**。那些未经组织团体承认、但已经在广泛使用中被接受的标准，就是事实标准 `de facto standard` 。通常而言，事实标准最初由打算定义新产品或技术功能的制造商制定。
- **法定标准**。那些由官方认可的团体制定的标准称为法定标准 `de jure standard` 。

## 1.4.3 标准化组织
标准是通过标准创建委员会、论坛以及政府管理机构之间的合作开发出来的。究竟是谁控制着 T C P / I P协议族，又是谁在定义新的标准以及其他类似的事情？事实上，有四个小组在负责I n t e r n e t技术。
1) Internet协会（I S O C，Internet Society）是一个推动、支持和促进 I n t e r n e t不断增长和发展的专业组织，它把I n t e r n e t作为全球研究通信的基础设施。
2) Internet体系结构委员会（I A B，Internet Architecture Board）是一个技术监督和协调的机构。它由国际上来自不同专业的 1 5个志愿者组成，其职能是负责 I n t e r n e t标准的最后编辑和技术审核。I A B隶属于I S O C。
3) **Internet工程专门小组**（I E T F，Internet Engineering Task Force）是一个面向近期标准的组织，它分为9个领域（应用、寻径和寻址、安全等等）。I E T F开发成为I n t e r n e t标准的规范。为帮助IETF主席，又成立了Internet工程指导小组（IESG, Internet Engineering Steering Group）。
4) Internet研究专门小组（IR I F，Internet Research Task Force）主要对长远的项目进行研究。I RT F和I E T F都隶属于I A B。文献[Crocker 1993]提供了关于I n t e r n e t内部标准化进程更为详细的信息，同时还介绍了它的早期历史。
### (1) 标准创建委员会
尽管致力于制定标准的组织很多，但数据电信方面的标准，就北美而言主要由以下几个组织发布：
- **国际标准化组织** `ISO` ：它是一个国际性组织，其成员主要来自世界各地的不同政府的标准化创建委员会。ISO的活动范围包括科学、技术和经济活动领域的开发合作。
- **国际电信联盟一一电信标准分会** `ITU-T` ：在20世纪70年代早期，许多国家都在制定各自的国家电信标准，但各国的标准之间是不兼容的。为此，联合国建立了一个称做国际电报电话顾问委员会 `Consultative Committee for International Telegraphy and Telephony, CCITT` 的协会，并将其作为国际电信联盟 `ITU` 的一部分。该协会致力于研究和建立通用的电信标准，以及专门用于电话和数据系统的电信标准。1993年3月1日，该协会的名称改为国际电信联盟一一电信标准分会`ITU-T` 。
- **美国国家标准协会** `ANSI` ：尽管名字上是这样的，但美国国家标准协会是一个完全私有的、非营利性的、不附属于美国联邦政府的机构。然而，ANSI所有的活动都是在美国及其国民的扶持下进行的，具有非常重要的影响。
- **电气和电子工程师协会** `IEEE` ：这是世界上最大的国际性专业工程师社团。其目的是在电气工程、电子、无线电以及所有相关分支工程领域中，促进理论研究的深入、创新活动的开展和产品质量的提高。IEEE的目标之一是监督计算机及通信的国际标准的制定和采纳。
- **电子工业协会** `EIA` ：它与ANSI结成联盟，也是一个非营利组织，致力于提升电子制造的影响力。除了标准的制定以外，其活动包括公众意识教育和游说活动。在信息技术领域，EIA通过定义数据通信的物理连接接口 `physical connection interfaces` 和电子信号规程 `electronic signaling specifications` 作出了巨大贡献。

### (2) 论坛
电信技术的发展速度已经超出了标准委员会批准标准的能力。标准委员会都是按部就班、按照自然而缓慢的速度工作的。为了适应推动标准化进程的工作模式及规范的需要，许多特定利益团体发展了不同的**论坛** `forums`，论坛代表来自于感兴趣的相关公司。论坛、院校以及用户，共同测试、评估和标准化新技术。由于他们专注于某一具体的技术，论坛能够在电信领域加速这些技术的采纳和使用，将他们的结论提交给标准化团体。
### (3) 管理机构
所有的通信技术都必须服从诸如美国联邦通信委员会 `Federal Communications Commission, FCC` 的政府机构的管辖。这些机构的目的是，通过制定无线电、电视和有线通信的规范来保护公众利益。在通信相关的商务领域，FCC具有国内的和国际的权威性。
## 1.4.4 因特网标准
**因特网标准** `Internet standard` 是经过完全测试的规范，它是对使用因特网的人们有用的、并且被他们所拥护的标准，是必须遵循的格式化规则。一份规范要想成为因特网标准，需要经过严格的程序。

**规范最初以草案开始**。**因特网草案** `Internet draft` 是一份没有官方地位的工作文档，有 $6$ 个月的生命期。经过因特网权威机构的推荐，草案能够以**请求评论** `Request for Comment, RFC` 的形式发表，用于产生因特网标准。每份RFC文档经过编辑后赋予一个编号，对所有感兴趣的团体开放。RFC文档经过成熟度考察，并根据其需求程度进行归类。

所有关于I n t e r n e t的正式标准都以 R F C（Request for Comment）文档出版。另外，大量的
R F C并不是正式的标准，出版的目的只是为了提供信息。 R F C的篇幅从1页到2 0 0页不等。每
一项都用一个数字来标识，如 RFC 11 2 2，数字越大说明R F C的内容越新。**所有的R F C都可以通过电子邮件或用 F T P从I n t e r n e t上免费获取**。如果发送下面这份电子邮件，就会收到一份获取 R F C的方法清单： 
```
To: rfc-info@ISI.EDU
Subject: getting rfcs
help: ways_to_get_rfcs
```
最新的R F C索引总是搜索信息的起点。这个索引列出了 R F C被替换或局部更新的时间。下面是一些重要的R F C文档：
1) 赋值R F C（Assigned Numbers RFC）列出了所有I n t e r n e t协议中使用的数字和常数。至本书出版时为止，最新 R F C的编号是 1340 [Reynolds 和Postel 1992] 。所有著名的I n t e r n e t端口号都列在这里。
    当这个R F C被更新时(通常每年至少更新一次），索引清单会列出RFC 1340被替换的时间。
2) I n t e r n e t正式协议标准，目前是 RFC 1600[Postel 1994]。这个R F C描述了各种I n t e r n e t协议的标准化现状。每种协议都处于下面几种标准化状态之一：标准、草案标准、提议标准、实验标准、信息标准和历史标准。另外，对每种协议都有一个要求的层次、必需的、建议的、可选择的、限制使用的或者不推荐的。
    与赋值R F C一样，这个R F C也定期更新。请随时查看最新版本。
3) 主机需求R F C，11 2 2和1123[Braden 1989a, 1989b]。RFC 11 2 2针对链路层、网络层和运输层；RFC 11 2 3针对应用层。这两个 R F C对早期重要的 R F C文档作了大量的纠正和解释。如果要查看有关协议更详细的细节内容，它们通常是一个入口点。它们列出了协议中关于“必须”、“应该”、“可以”、“不应该”或者“不能”等特性及其实现细节。
    文献[Borman 1993b]提供了**有关这两个R F C的实用内容**。RFC 1127[Braden 1989c]对工作小组开发主机需求R F C过程中的讨论内容和结论进行了非正式的总结。
4) 路由器需求R F C，目前正式版是RFC 1009[Braden and Postel 1987]，但一个新版已接近
完成[Almquist 1993]。它与主机需求R F C类似，但是只单独描述了路由器的需求。
