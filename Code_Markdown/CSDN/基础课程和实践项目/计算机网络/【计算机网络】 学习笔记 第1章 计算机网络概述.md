@[toc]

---
# 1.1  计算机网络在信息时代中的作用
## 1.1.1 网络类型和三网融合
21世纪的一些重要特征是**数字化、网络化和信息化**，它是一个**以网络为核心**的信息时代。网络现在已经成为信息社会的命脉和发展知识经济的**重要基础**。大众熟悉的三大类网络有：
- 电信网络：提供电话、电报及传真等服务；
- 有线电视网络：向用户传送各种电视节目；
- 计算机网络：使用户能在计算机之间传送数据文件；

发展最快的并起到核心作用的是计算机网络。同时，随着技术的发展，**网络技术相互融合**：
- 电信网络和有线电视网络都逐渐融入了现代计算机网络技术，扩大了原有的服务范围；
- 计算机网络也能够向用户提供电话通信、视频通信以及传送视频节目的服务。

从理论上讲，把上述三种网络融合成一种网络，就能够提供所有的上述服务，这就是很早以前就提出来的“三网融合”。但实现融合并不简单，因为这涉及到各方面的经济利益和行政管辖权的问题。

> <h6>Internet 发展</h6>
> 
> 自从 20 世纪世纪 90 年代以后，以 `Internet` 为代表的计算机网络得到了飞速的发展，
>  已从最初的教育科研网络（免费）逐步发展成为商业网络（有偿使用），
> 已成为全球最大的和最重要的计算机网络，是人类自印刷术发明以来、在存储和交换信息领域中的最大变革。 
> 
> <h6>Internet 中文译名</h6>
> 
> `Internet` 的中文译名并不统一。现有的 `Internet` 译名有两种：
> - 因特网，这个译名是全国科学技术名词审定委员会推荐的，但却长期未得到推广；
> - 互联网：这是目前流行最广的、事实上的标准译名。 现在我国的各种报刊杂志、政府文件以及电视节目中都毫无例外地使用这个译名。该译名能够体现出 `Internet` 最主要的特征：由数量极大的各种计算机网络互连起来的。
> <h6>互连网与互联网</h6>
> 两者是不同的网络。
> 
> - 互连网：指在局部范围互连起来的计算机网络。
>  - 互联网：互联网：指当今世界上最大的计算机网络 `Internet` 。
> <h6>网与互联网</h6>
> 有时，往往使用更加简洁的方式表示互联网，这就是只用一个 “网”字。 
> 例如：上网就是表示使用某个电子设备连接到互联网，而不是连接到其他的网络上。 
> 网民、网吧、网银、网购等。这里的网，一般都不是指电信网或有线电视网，而是指当今世界上最大的计算机网络 `Internet` ——互联网。
> <h6>什么是互联网？</h6>
> 互联网是由数量极大的各种计算机网络互连起来而形成的网络。 可以从两种不同的方面来认识互联网：
> 
> - 互联网应用：绝大多数人都是通过使用互联网而认识了互联网。
> - 互联网工作原理与特点：互联网之所以能够向用户提供许多服务，是因为互联网具有两个重要基本特点：	
>	- 连通性 (`connectivity`) ：使上网用户之间都可以交换信息（数据，以及各种音频视频），好像这些用户的计算机都可以彼此直
接连通一样。 注意，互联网具有虚拟的特点，无法准确知道对方
是谁，也无法知道对方的位置。
> 	- 共享 (`Sharing`) ：指资源共享。资源共享的含义是多方面
的。可以是信息共享、软件共享，也可以是硬件共享。由于网络的存在，这些资源好像就在用户身边一样，方便使用。
> <h6>互联网在生活中的地位</h6>
> 现在人们的生活、工作、学习和交往都已离不开互联网。 互联网已经成为现代社会最为重要的基础设施。同时，互联网也使人们的生活方式发生了重大的变化。 

---
# 1.2  互联网概述
## 1.2.1  网络的网络
有如下概念：
- 互联网 `Internet`：特指 `Internet` ，起源于美国，现已发展成为世界上最大的、覆盖全球的计算机网络。 
- 计算机网络 (简称为网络)：由若干结点 `node` 和连接这些结点的链路 `link` 组成。
- 互连网 `internetwork/internet` ：可以通过路由器把网络互连起来，这就构成了一个覆盖范围更大的计算机网络，称之为互连网。即**网络的网络** `network of networks` 。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920141052387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)

可见，网络把许多计算机连接在一起，与网络相连的计算机常称为**主机**。互连网则把许多网络通过路由器连接在一起。
> 云 `Cloud` ：使用一朵“云”来表示网络时，可能会有两种不同的情况：
> - 云表示的网络已经包含了和网络相连的计算机。
> - 云表示的网络里面只有许多路由器和连接这些路由器的链路，把有关的计算机画在云的外面。习惯上，与网络相连的计算机常称为**主机** `host` 。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920141411913.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)


 ---
# 1.2.2  互联网基础结构发展的三个阶段
第一阶段：从单个网络 `ARPANET` 向互联网发展的过程。
- 1983年，`TCP/IP` 协议成为 `ARPANET` 上的标准协议，使得所有使用 `TCP/IP` 协议的计算机都能利用互连网相互通信。人们把1983年作为互联网的诞生时间。
 - 1990年，`ARPANET` 正式宣布关闭。
> <h6> <code>internet</code> 和 <code>Internet</code> 的区别的</h6>
> 
> - 以小写字母 `i` 开始的 `internet`（互连网）是一个通用名词，它泛指由多个计算机网络互连而成的网络。 
> - 以大写字母 `I` 开始的 `Internet`（互联网或因特网）则是一个专有名词，它指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络，它采用 `TCP/IP` 协议族作为通信的规则，且其前身是美国的 `ARPANET` 。
>  - 任意把几个计算机网络互连起来（不管采用什么协议），并能够相互通信，这样构成的是一个互连网 `internet` ，而不是互联网 `Internet` 。

第二阶段：建成了三级结构的互联网。它是一个三级计算机网络，分为主干网、地区网和校园网（或企业网）。

第三阶段：逐渐形成了多层次 `ISP` 结构的互联网。
- 出现了互联网服务提供者 `ISP (Internet Service Provider)` 。任何机构和个人只要向某个 `ISP` 交纳规定的费用，就可从该 `ISP` 获取所需 `IP` 地址的使用权，并可通过该 `ISP` 接入到互联网。
-  根据提供服务的覆盖面积大小以及所拥有的 `IP` 地址数目的不同，`ISP` 也分成为**不同层次的 `ISP`** ：主干 `ISP` 、地区 `ISP` 和 本地本地 `ISP`。
- 到2016年3月，全球已经有 `226` 个 `IXP` ，分布在 172 个国家和地区。但互联网的发展在全世界还很不平衡。

万维网万维网 WWW 的问世的问世
 互联网已经成为世界上规模最大和增长速率最
快的计算机网络，没有人能够准确说出互联网
究竟有多大。
互联网已经成为世界上规模最大和增长速率最
快的计算机网络，没有人能够准确说出互联网
究竟有多大。
 互联网的迅猛发展始于 20 世纪世纪 90 年代。由欧
洲原子核研究组织
年代。由欧
洲原子核研究组织 CERN 开发的开发的万维网万维网 WWW
(World Wide Web) 被广泛使用在互联网上，大
大方便了广大非网络专业人员对网络的使用，
成为互联网的这种指数级增长的主要驱动力。

互联网的发展情况概况
 从 1993 年至年至 2016 年
互联网用户数的增长
情况如图所示。
年
互联网用户数的增长
情况如图所示。这里
的用户是指在家中上
网的人。
这里
的用户是指在家中上
网的人。
 可以看出，在 2005 
年互联网的用户数超
过了
年互联网的用户数超
过了 10 亿，在 2010 
年超过了 20 亿，而
在
亿，而
在2014年 已接近了
30亿。

## 1.2.3  互联网的标准化工作
互联网协会 ISOC
互联网研究指导小组
IRSG 
互联网研究部 IRTF 互联网工程部互联网工程部 IETF 
互联网工程指导小组
IESG 
…
RGWG……RG…
领域领域领域
互联网体系结构
研究委员会
互联网体系结构
研究委员会 IAB 
WGWGWG
互联网的标准化工作对互联网的发展起到了非常
重要的作用。

成为互联网正式标准要经过三个阶段
 互联网草案互联网草案 (Internet Draft) ——有效期只有六
个月。在这个阶段还
有效期只有六
个月。在这个阶段还不是不是 RFC 文档。文档。
 建议标准建议标准 (Proposed Standard) ——从这个阶
段开始就成为
从这个阶
段开始就成为 RFC 文档。文档。
 互联网标准互联网标准 (Internet Standard) ——达到正式
标准后，每个标准就分配到一个编号
达到正式
标准后，每个标准就分配到一个编号 STD xxxx。
一个标准可以和多个
。
一个标准可以和多个 RFC 文档关联。


各种各种 RFC 之间的关系
互联网草案
建议标准
互联网草案
建议标准
互联网标准
历史的 RFC
实验的 RFC提供信息的提供信息的 RFC
除了建议标准和互联网标准这两种 RFC 文档外，还有三种文档外，还有三种
RFC 文档，即历史的、实验的和提供信息的 RFC 文档。

---
# 1.3  互联网的组成
从互联网的工作方式上看，可以划分为两大块：
(1) 边缘部分：边缘部分： 由所有连接在互联网上的主机组成。
这部分是用户直接使用的，用来进行通信（传
送数据、音频或视频）和资源共享。
由所有连接在互联网上的主机组成。
这部分是用户直接使用的，用来进行通信（传
送数据、音频或视频）和资源共享。
(2) 核心部分：核心部分：由大量网络和连接这些网络的路由
器组成。这部分是为边缘部分提供服务的（提
供连通性和交换）。
## 1.3.1  互联网的边缘部分
处在互联网边缘的部分就是连接在互联网上的
所有的主机。这些主机又称为
处在互联网边缘的部分就是连接在互联网上的
所有的主机。这些主机又称为端系统端系统 (end 
system)。
 端系统在功能上可能有很大的差别
 小的端系统可以是一台普通个人电脑，具有上网功
能的智能手机，甚至是一个很小的网络摄像头。
小的端系统可以是一台普通个人电脑，具有上网功
能的智能手机，甚至是一个很小的网络摄像头。
 大的端系统则可以是一台非常昂贵的大型计算机。
 端系统的拥有者可以是个人，也可以是单位（如学
校、企业、政府机关等），当然也可以是某个
端系统的拥有者可以是个人，也可以是单位（如学
校、企业、政府机关等），当然也可以是某个 ISP。

端系统之间通信的含义
 “主机 A 和主机和主机 B 进行通信”实际上是指：
“运行在主机“运行在主机 A 上的某个程序和运行在主机 B 
上的另一个程序进行通信”。
即“主机即“主机 A 的某个进程和主机 B 上的另一个
进程进行通信”。
简称为“计算机之间通信”。

端系统之间的两种通信方式
端系统之间的通信方式通常可划分为两大类：
 客户服务器方式（C/S 方式）
即
方式）
即 Client/Server 方式，简称为 C/S 方式。方式。
 对等方式（P2P 方式）
即
方式）
即 PeertoPeer 方式 ，简称为 P2P 方式。

1.  客户服务器方式
 客户客户 (client) 和服务器服务器 (server) 都是指通信中
所涉及的两个应用进程。
都是指通信中
所涉及的两个应用进程。
 客户服务器方式所描述的是进程之间服务和被
服务的关系。
客户服务器方式所描述的是进程之间服务和被
服务的关系。
 客户是服务的请求方，服务器是服务的提供方服务的提供方。
服务请求方和服务提供方都要使用网络核心部分
所提供的服务。

客户软件的特点
 被用户调用后运行，在打算通信时主动向远地
服务器发起通信（请求服务）。
在打算通信时主动向远地
服务器发起通信（请求服务）。因此，客户程
序必须知道服务器程序的地址。
因此，客户程
序必须知道服务器程序的地址。
 不需要特殊的硬件和很复杂的操作系统。

服务器软件的特点
 一种专门用来提供某种服务的程序，可同时处
理多个远地或本地客户的请求。
一种专门用来提供某种服务的程序，可同时处
理多个远地或本地客户的请求。
 系统启动后即自动调用并一直不断地运行着，
被动地等待
一直不断地运行着，
被动地等待并接受来自各地的客户的通信请求。
因此，服务器程序不需要知道客户程序的地址。
 一般需要强大的硬件和高级的操作系统支持。
客户与服务器的通信关系建立后，通信可以是双
向的，
通信可以是双
向的，客户和服务器都可发送和接收数据。

2. 对等连接方式
 对等连接对等连接 (peer-to-peer，简写为，简写为 P2P) 是指两
个主机在通信时并不区分哪一个是服务请求方
还是服务提供方。
是指两
个主机在通信时并不区分哪一个是服务请求方
还是服务提供方。
 只要两个主机都运行了对等连接软件 (P2P 软
件
软
件) ，它们就可以进行平等的、对等连接通信。
 双方都可以下载对方已经存储在硬盘中的共享
文档。

对等连接方式的特点
 对等连接方式从本质上看仍然是使用客户服务
器方式，只是对等连接中的
对等连接方式从本质上看仍然是使用客户服务
器方式，只是对等连接中的每一个主机既是客
户又是服务器。
每一个主机既是客
户又是服务器。
 例如主机 C 请求请求 D 的服务时，C 是客户，是客户，D 是
服务器。但如果
是
服务器。但如果 C 又同时向 F提供服务，那么
C 又同时起着服务器的作用。
对等连接工作方式可支持大量对等用户（如上
百万个）同时工作。



 1.3.2  互联网的核心部分
网络核心部分是互联网中最复杂的部分。
 网络中的核心部分要向网络边缘中的大量主机
提供连通性，使边缘部分中的任何一个主机都
能够向其他主机通信（即传送或接收各种形式
的数据）。
网络中的核心部分要向网络边缘中的大量主机
提供连通性，使边缘部分中的任何一个主机都
能够向其他主机通信（即传送或接收各种形式
的数据）。
 在网络核心部分起特殊作用的是路由器路由器 (router)。

路由器是实现分组交换分组交换 (packet switching) 的
关键构件，其任务是
的
关键构件，其任务是转发转发收到的分组，这是网
络核心部分最重要的功能。
收到的分组，这是网
络核心部分最重要的功能。
 为了理解分组交换，首先了解电路交换电路交换的基本
概念

1. 电路交换的主要特点

2 部电话机只需要用 1 对电线直接连接就能够
互相通话。
5 部电话机两两直接相连，需 10 对电线。
N 部电话机两两直接相连，需 N(N – 1)/2 对电
线。这种直接连接方法所需要的电线对的数量
与电话机数量的平方
对电
线。这种直接连接方法所需要的电线对的数量
与电话机数量的平方（ N2 ）成正比。
使用交换机
 当电话机的数量增多时，就要使用交换机交换机来完
成全网的交换任务。
来完
成全网的交换任务。









交换机
每一部电话都直接连接到交
换机上，而交换机使用交换
的方法，让电话用户彼此之
间可以很方便地通信。
所采用的交换方式就是
每一部电话都直接连接到交
换机上，而交换机使用交换
的方法，让电话用户彼此之
间可以很方便地通信。
所采用的交换方式就是电路
交换
电路
交换 (circuit switching)。
“交换”的含义
 在这里，“交换交换”(switching)的含义就是的含义就是转
接
转
接 —— 把一条电话线转接到另一条电话线，使
它们连通起来。
把一条电话线转接到另一条电话线，使
它们连通起来。
 从通信资源的分配角度来看，“交换”就是按
照某种方式
从通信资源的分配角度来看，“交换”就是按
照某种方式动态地分配传输线路的资源。

电路交换特点
 电路交换必定是面向连接的。的。
 电路交换分为三个阶段：
 建立连接：建立连接：建立一条专用的物理通路，以保证双方
通话时所需的通信资源在通信时不会被其他用户占
用；
建立一条专用的物理通路，以保证双方
通话时所需的通信资源在通信时不会被其他用户占
用；
 通信：通信：主叫和被叫双方就能互相通电话；
 释放连接：释放连接：释放刚才使用的这条专用的物理通路
（释放刚才占用的所有通信资源）。

电路交换举例
 A 和 B 通话经过四个交换机
 通话在通话在 A 到 B 的连接上进行


电路交换缺点
 计算机数据具有突发性。
 这导致在传送计算机数据时，通信线路的利用
率很低（用来传送数据的时间往往不到
这导致在传送计算机数据时，通信线路的利用
率很低（用来传送数据的时间往往不到10%甚
至
甚
至1% ）。

2. 分组交换的主要特点
 分组交换则采用存储转发技术。技术。
 在发送端，先把较长的报文划分成较短的、固
定长度的数据段

添加首部构成分组
 每一个数据段前面添加上首部首部构成构成分组分组(packet)。

分组交换的传输单元
 分组交换网以“分组分组”作为数据传输单元。
 依次依次把各分组发送到接收端（假定接收端在左
边）。

分组首部的重要性
 每一个每一个分组的首部都含有地址地址（诸如目的地址
和源地址）等控制信息。
（诸如目的地址
和源地址）等控制信息。
 分组交换网中的结点交换机根据收到的分组首
部中的
分组交换网中的结点交换机根据收到的分组首
部中的地址信息，把分组把分组转发转发到下一个结点交
换机。
到下一个结点交
换机。
 每个分组在互联网中独立地选择传输路径。
 用这样的存储转发存储转发方式，最后分组就能到达最
终目的地。

收到分组后剥去首部
 接收端收到分组后剥去剥去首部还原成报文。

最后还原成原来的报文
 最后，在接收端把收到的数据恢复成为原来的
报文。
恢复成为原来的
报文。
 这里我们假定分组在传输过程中没有出现差错，
在转发时也没有被丢弃。

互联网的核心部分是由许多网络许多网络和把它们互连
起来的
和把它们互连
起来的路由器组成，而组成，而主机处在互联网的边缘
部分。
主机处在互联网的边缘
部分。
 互联网核心部分中的路由器之间一般都用高速
链路
高速
链路相连接，而在网络边缘的主机接入到核心
部分则通常以相对
相连接，而在网络边缘的主机接入到核心
部分则通常以相对较低速率的链路相连接。
 主机主机的用途是为用户进行信息处理的，并且可
以和其他主机通过网络交换信息。
的用途是为用户进行信息处理的，并且可
以和其他主机通过网络交换信息。路由器路由器的用
途则是用来转发分组的，即进行分组交换的。

路由器
 在路由器中的输入和输出端口之间没有直接连
线。
没有直接连
线。
 路由器处理分组的过程是：
 把收到的分组先放入缓存（暂时存储）；
 查找转发表，查找转发表，找出到某个目的地址应从哪个端口转
发；
找出到某个目的地址应从哪个端口转
发；
 把分组送到适当的端口转发转发出去。

主机和路由器的作用不同
 主机是主机是为用户进行信息处理的，并向网络发送
分组，从网络接收分组。
的，并向网络发送
分组，从网络接收分组。
 路由器对分组进行存储转发，最后把分组交付
目的主机。

分组交换的优点
优点所采用的手段
高效
优点所采用的手段
高效 在分组传输的过程中动态分配动态分配传输带宽，对通
信链路是逐段占用。
传输带宽，对通
信链路是逐段占用。
灵活灵活 为每一个分组独立独立地选择最合适的转发路由。
迅速迅速 以分组作为传送单位，可以不先建立连接不先建立连接就能
向其他主机发送分组。
就能
向其他主机发送分组。
可靠可靠 保证可靠性的网络协议；分布式多路由的分组
交换网，使网络有很好的生存性。
保证可靠性的网络协议；分布式多

分组交换带来的问题
 分组在各结点存储转发时需要排队，排队，这就会造
成一定的
这就会造
成一定的时延。
 分组必须携带的首部（里面有必不可少的控制
信息）也造成了一定的
分组必须携带的首部（里面有必不可少的控制
信息）也造成了一定的开销。


存储转发原理并非完全新的概念
 在 20 世纪世纪 40 年代，电报通信也采用了基于存
储转发原理的
年代，电报通信也采用了基于存
储转发原理的报文交换报文交换 (message switching)。
 报文交换的时延较长，从几分钟到几小时不等。
现在报文交换已经很少有人使用了。

三种交换的比较
 若要连续传送大量的数据，且其传送时间远大
于连接建立时间，则电路交换的传输速率较快。
若要连续传送大量的数据，且其传送时间远大
于连接建立时间，则电路交换的传输速率较快。
 报文交换和分组交换不需要预先分配传输带宽，
在传送突发数据时可提高整个网络的信道利用
率。
报文交换和分组交换不需要预先分配传输带宽，
在传送突发数据时可提高整个网络的信道利用
率。
 由于一个分组的长度往往远小于整个报文的长
度，因此分组交换比报文交换的时延小，同时
也具有更好的灵活性。

---
# 1.4  计算机网络在我国的发展
1980 年，铁道部开始进行计算机联网实验。
 1989 年11 月，我国第一个公用分组交换网 CNPAC 
建成运行。
 1994 年 4 月 20 日，我国用 64 kbit/s 专线正式连入互
联网，我国被国际上正式承认为接入互联网的国家。
专线正式连入互
联网，我国被国际上正式承认为接入互联网的国家。
 1994 年 5 月，中国科学院高能物理研究所设立了我国
的第一个万维网服务器。
月，中国科学院高能物理研究所设立了我国
的第一个万维网服务器。
 1994 年 9 月中国公用计算机互联网 CHINANET 正式
启动。
目前为止，我国陆续建造了基于互联网技术的并能
够和互联网互连的多个全国范围的公用计算机网络，
其中规模最大的就是下面这五个：
到目前为止，我国陆续建造了基于互联网技术的并能
够和互联网互连的多个全国范围的公用计算机网络，
其中规模最大的就是下面这五个：
 (1) 中国电信互联网中国电信互联网 CHINANET（也就是原来的中国公用计
算机互联网）
（也就是原来的中国公用计
算机互联网）
 (2) 中国联通互联网 UNINET
 (3) 中国移动互联网 CMNET
 (4) 中国教育和科研计算机网 CERNET
 (5) 中国科学技术网 CSTNET
中国教育和科研计算机网 CERNET (China Education 
and Research NETwork) 始建于始建于 1994 年，是我国第
一个
年，是我国第
一个 IPv4 互联网主干网。
 2004 年 2 月，我国的第一个下一代互联网 CNGI 的主
干网
的主
干网 CERNET2 试验网正式开通，并提供服务。
 中国互联网络信息中心 CNNIC (ChiNa Network 
Information Center) 每年两次公布我国互联网的发展
情况。




---
# 1.5  计算机网络的类别
## 1.5.1  计算机网络的定义
计算机网络的精确定义并未统一。较好的定义是：**计算机网络主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。** 请注意，上述的**可编程的硬件**表明这种硬件一定包含有中央处理机 `CPU` 。

根据这个定义：
- 计算机网络所连接的硬件，并不限于一般的计算机，而是包括了智能手机。
- 计算机网络并非专门用来传送数据，而是能够支持很多种的应用（包括今后可能出现的各种应用）。

## 1.5.2 几种不同类别的网络 
### 1. 按照网络的作用范围进行分类
按照网络的作用范围：
- 广域网 `WAN (Wide Area Network)` ：指覆盖多个远距离区域的远程网络，作用范围通常为几十到几千公里。 
- 城域网 `MAN (Metropolitan Area Network)` ：比广域网再小一级的、连接整个城市的网络叫城域网，作用距离约为 `5 ~ 50` 公里。
- 局域网 `LAN (Local Area Network)` ：指一个楼层、一栋楼或一个校园等相对较小的区域内的网络，局限在较小的范围（如 `1` 公里左右）。
- 个人区域网 `PAN (Personal Area Network)` ：范围很小，大约在 `10` 米左右。
- 若中央处理机之间的距离非常近（如仅1米的数量级甚至更些），则一般就称之为多处理机系统，而不称它为计算机网络。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920143827269.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920144112138.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)


### 2. 按照网络的使用者进行分类
按照网络使用者的身份：
- 公用网 `(public network)` ：按规定交纳费用的人都可以使用的网络。因此也可称为公众网。
- 专用网 `(private network)` ：为特殊业务工作的需要而建造的网络。
- 公用网和专用网都可以提供多种服务。如传送的是计算机数据，则分别是**公用计算机网络**和**专用计算机网络**。

### 3. 用来把用户接入到互联网的网络
接入网 `AN (Access Network)` ，它又称为本地接入网或居民接入网。 接入网是一类比较特殊的计算机网络，用于将用户接入互联网。**它本身既不属于互联网的核心部分，也不属于互联网的边缘部分**。 

接入网是**从某个用户端系统到互联网中的第一个路由器**（也称为边缘路由器）之间的一种网络。从覆盖的范围看，很多接入网还是属于局域网。从作用上看，接入网起到让用户能够与互联网连接的桥梁作用。


---
# 1.6  计算机网络的性能
## 1.6.1  计算机网络的性能指标
计算机网络的性能一般是指它的几个重要的性能指标，主要包括： 速率、带宽、吞吐率、时延、时延带宽积、往返时间 RTT、利用率。

### 1. 速率
速率是计算机网络中**最重要的一个性能指标**，指的是数据的传送速率，也称为数据率 `data rate` 或比特率 `bit rate` 。速率的单位是 `bit/s` ，或 `Kbit/s, Mbit/s, Gbit/s` 等。例如 <code>4 &times; 10<sup>10</sup> bit/s</code> 的数据率就记为 `40 Gbit/s` 。**速率往往是指额定速率或标称速率，非实际运行速率。**

2. 带宽
两种不同意义：
 “带宽”带宽”(bandwidth) 本来是指信号具有的频带宽度，频带宽度，
其单位是赫（或千赫、兆赫、吉赫等）。
 在计算机网络中，带宽用来表示网络中某通道传送数
据的能力。表示在单位时间内网络中的某信道所能通
过的“
在计算机网络中，带宽用来表示网络中某通道传送数
据的能力。表示在单位时间内网络中的某信道所能通
过的“最高数据率”。单位是”。单位是 bit/s ，即 “比特每秒”。
在“带宽”的上述两种表述中，前者为频域频域称谓，而后
者为
称谓，而后
者为时域时域称谓，其本质是相同的。也就是说，一条通信
链路的“带宽”越宽，其所能传输的“最高数据率”也
越高。

3. 吞吐量
 吞吐量吞吐量 (throughput) 表示在单位时间内通过某
个网络（或信道、接口）的数据量。
表示在单位时间内通过某
个网络（或信道、接口）的数据量。
 吞吐量更经常地用于对现实世界中的网络的一
种测量，以便知道
吞吐量更经常地用于对现实世界中的网络的一
种测量，以便知道实际上到底有多少数据量能
够通过网络。
实际上到底有多少数据量能
够通过网络。
 吞吐量受网络的带宽或网络的额定速率的限制。

4. 时延时延 (delay 或 latency)
 时延时延 (delay 或 latency) 是指数据（一个报文或
分组，甚至比特）从网络（或链路）的一端传
送到另一端所需的时间。
是指数据（一个报文或
分组，甚至比特）从网络（或链路）的一端传
送到另一端所需的时间。
 有时也称为延迟延迟或迟延。迟延。
 网络中的时延由以下几个不同的部分组成：
 (1) 发送时延
 (2) 传播时延
 (3) 处理时延
 (4) 排队时延

4. 时延时延 (delay 或 latency)
 (1) 发送时延
 也称为传输时延。
 发送数据时，数据帧从结点进入到传输媒体所需要
的时间。
发送数据时，数据帧从结点进入到传输媒体所需要
的时间。
 也就是从发送数据帧的第一个比特算起，到该帧的
最后一个比特发送完毕所需的时间。
也就是从发送数据帧的第一个比特算起，到该帧的
最后一个比特发送完毕所需的时间。
发送时延发送时延 = 数据帧长度（bit）
发送速率（bit/s）

4. 时延时延 (delay 或 latency)
 (2) 传播时延
 电磁波在信道中需要传播一定的距离而花费的时间。
 发送时延与传播时延有本质上的不同。
 信号发送速率和信号在信道上的传播速率传播速率是完全不
同
完全不
同的概念。
传播时延 = 
信道长度（米）
信号在信道上的传播速率（米/秒）

4. 时延时延 (delay 或 latency)
 (3) 处理时延
 主机或路由器在收到分组时，为处理分组（例如分
析首部、提取数据、差错检验或查找路由）所花费
的时间。
主机或路由器在收到分组时，为处理分组（例如分
析首部、提取数据、差错检验或查找路由）所花费
的时间。
 (4) 排队时延
 分组在路由器输入输出队列中排队等待处理所经历
的时延。
所经历
的时延。
 排队时延的长短往往取决于网络中当时的通信量。

4. 时延时延 (delay 或 latency)
 数据在网络中经历的总时延就是发送时延、传
播时延、处理时延和排队时延
数据在网络中经历的总时延就是发送时延、传
播时延、处理时延和排队时延之和。之和。
总时延 = 发送时延
+ 传播时延
+ 处理时延
+ 排队时延
必须指出，在总时延中，究竟是哪一种时延占主导地位，必须具体分析。

容易产生的错误概念
 对于高速网络链路，我们提高的仅仅是数据的
发送速率发送速率而不是比特在链路上的传播速率。传播速率。
 提高链路带宽减小了数据的发送时延。

5. 时延带宽积
 链路的时延带宽积又称为以比特为单位的链路
长度。

6. 往返时间 RTT
 互联网上的信息不仅仅单方向传输，而是双向
交互的。因此，有时很需要知道双向交互一次
所需的时间。
互联网上的信息不仅仅单方向传输，而是双向
交互的。因此，有时很需要知道双向交互一次
所需的时间。
 往返时间往返时间表示从发送方发送数据开始，到发送
方收到来自接收方的确认，总共经历的时间。
表示从发送方发送数据开始，到发送
方收到来自接收方的确认，总共经历的时间。
 在互联网中，往返时间还包括各中间结点各中间结点的处
理时延、排队时延以及转发数据时的发送时延。
的处
理时延、排队时延以及转发数据时的发送时延。
 当使用卫星通信时，往返时间 RTT 相对较长，
是很重要的一个性能指标。
相对较长，
是很重要的一个性能指标。

7. 利用率
 分为分为信道利用率和网络利用率。
 信道利用率信道利用率指出某信道有百分之几的时间是被
利用的（有数据通过）。完全空闲的信道的利
用率是零。
指出某信道有百分之几的时间是被
利用的（有数据通过）。完全空闲的信道的利
用率是零。
 网络利用率网络利用率则是全网络的信道利用率的加权平
均值。
则是全网络的信道利用率的加权平
均值。
 信道利用率并非越高越好。当某信道的利用率
增大时，该信道引起的时延也就迅速增加。
当某信道的利用率
增大时，该信道引起的时延也就迅速增加。

时延与网络利用率的关系
 根据排队论的理论，当某信道的利用率增大时，
该信道引起的时延也就迅速增加。
根据排队论的理论，当某信道的利用率增大时，
该信道引起的时延也就迅速增加。
 若令若令 D0 表示网络空闲时的时延，D 表示网络当
前的时延，则在适当的假定条件下，可以用下
面的简单公式表示
表示网络当
前的时延，则在适当的假定条件下，可以用下
面的简单公式表示 D 和 D0之间的关系：

1.6.2  计算机网络的非性能特征
 一些非性能特征也很重要。它们与前面介绍的
性能指标有很大的关系。主要包括：
一些非性能特征也很重要。它们与前面介绍的
性能指标有很大的关系。主要包括：
 费用
 质量
 标准化
 可靠性
 可扩展性和可升级性
 易于管理和维护

---
# 1.7  计算机网络的体系结构
## 1.7.1  计算机网络体系结构的形成
计算机网络是个非常复杂的系统。相互通信的两个计算机系统必须高度协调工作高度协调工作才行，而这种“协调”是相当复杂的。
 
 “分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。

1974 年，美国的IBM公司宣布了系统网络体系结构 `SNA (System Network Architecture)` 。这个著名的网络标准就是按照分层的方法制定的。不久后，其他一些公司也相继推出自己公司的具有不同名称的体系结构。由于网络体系结构的不同，不同公司的设备很难互相连通。

开放系统互连参考模型 `OSI/RM` ：为了使不同体系结构的计算机网络都能互连，国际标准化组织 `ISO` 在1977年成立了专门机构研究该问题。他们提出了一个试图使各种计算机在世界范围内互连成网的标准框架，即著名的开放系统互连基本参考模型 `OSI/RM (Open Systems Interconnection Reference Model)` ，简称为 `OSI` 。只要遵循 `OSI` 标准，一个系统就可以和位于世界上任何地方的、也遵循这同一标准的其他任何系统进行通信。

`OSI` 只获得了一些理论研究的成果，在市场化方面却失败了。原因包括：
- `OSI` 的专家们在完成 OSI 标准时没有商业驱动力；
- `OSI` 的协议实现起来过分复杂，且运行效率很低；
- `OSI` 标准的制定周期太长，因而使得按 `OSI` 标准生产的设备无法及时进入市场； 
- `OSI` 的层次划分也不太合理，有些功能在多个层次中重复出现。

两种国际标准：
- 法律上的 `de jure` 国际标准 `OSI` 并没有得到市场的认可。
- 非国际标准 `TCP/IP` 却获得了最广泛的应用。`TCP/IP` 常被称为事实上的 `de facto` 国际标准国际标准。

## 1.7.2  协议与划分层次
 计算机网络中的数据交换**必须遵守事先约定好的规则**。这些规则明确规定了所交换的数据的格式以及有关的同步问题（同步含有时序的意思）。

网络协议 `network protocol` ，简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定，是计算机网络的不可缺少的组成部分。 网络协议的三个组成要素：
- **语法**：数据与控制信息的**结构或格式** 。
- **语义**：需要发出何种控制信息，完成何种动作以及做出何种响应。 
- **同步**：**事件实现顺序**的详细说明。

协议的两种形式：一种是使用便于人来阅读和理解的文字描述。文字描述。另一种是使用让计算机能够理解的程序代码。程序代码。这两种不同形式的协议，都必须能够对网络上信息交换过程做出精确的解释。

层次式协议结构
 ARPANET 的研制经验表明，对于非常复杂的计算机网络协议，其结构应该是层次式的。

划分层次的概念举例：
主机 1 向主机 2 通过网络发送文件。可以将要做的工作进行如下的划分：
- 第一类工作与传送文件直接有关。
	- 确信对方已做好接收和存储文件的准备。
    - 双方已协调好一致的文件格式。
- 两个主机将文件传送模块作为最高的一层 ，剩下的工作由下面的模块负责。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920153644858.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920153743544.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920153852778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)
- 网络接入模块网络接入模块负责做与网络接口细节有关的工作，例如：规定传输的帧格式，帧的最大长度等。

分层的好处与缺点
- 好处：各层之间是独立的；灵活性好；结构上可分割开；易于实现和维护；能促进标准化工作。
- 缺点：降低效率；有些功能会在不同的层次中重复出现，因而产生了额外开销。

层数多少要适当：
- 层数太少，就会使每一层的协议太复杂。
- 层数太多，又会在描述和综合各层功能的系统工程任务时遇到较多的困难。

各层完成的主要功能：
- ① 差错控制：使**相应层次对等方**的通信更加可靠。
 - ② 流量控制：发送端的发送速率必须使接收端来得及接收，不要太快。
- ③ 分段和重装 ：发送端将要发送的数据块划分为更小的单位，在接收端将其还原。 
- ④ 复用和分用：发送端几个高层会话复用一条低层的连接，在接收端再进行分用。 
-  ⑤ 连接建立和释放：交换数据前先建立一条逻辑连接，数据传送结束后释放连接。 


**计算机网络的体系结构** `architecture` 是计算机网络的各层及其协议的集合。体系结构就是这个计算机网络及其部件所应完成的功能的精确定义。实现 `implementation` 是遵循这种体系结构的前提下用何种硬件或软件完成这些功能的问题。体系结构是抽象的，而实现则是具体的，是真正在运行的计算机硬件和软件。

---
## 1.7.3  具有五层协议的体系结构
`OSI` 的七层协议体系结构的概念清楚，理论也较完整，但它既复杂又不实用。`TCP/IP` 是四层体系结构：应用层、运输层、网际层和网络接口层。但最下面的网络接口层并没有具体内容。因此往往采取折中的办法，即综合 `OSI` 和 `TCP/IP` 的优点，采用一种只有五层协议的体系结构 。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200920154645634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70#pic_center)

 

---
## 1.7.4  实体、协议、服务和服务访问点
 实体实体 (entity) 表示任何可发送或接收信息的硬件
或软件进程。
表示任何可发送或接收信息的硬件
或软件进程。
 协议是控制两个对等实体进行通信的规则的集
合。
进行通信的规则的集
合。
 在协议的控制下，两个对等实体间的通信使得
本层能够
在协议的控制下，两个对等实体间的通信使得
本层能够向上一层提供服务。
 要实现本层协议，还需要使用下层所提供的服
务。
使用下层所提供的服
务。

协议和服务在概念上是不一样的
 协议的实现保证了能够向上一层提供服务。
 本层的服务用户只能看见服务而无法看见下面
的协议。即下面的协议对上面的服务用户是
而无法看见下面
的协议。即下面的协议对上面的服务用户是透
明
透
明的。
 协议是“水平的水平的”，即协议是控制对等实体之
间通信的规则。
”，即协议是控制对等实体之
间通信的规则。
 服务是“垂直的垂直的”，即服务是由下层向上层通
过层间接口提供的。
”，即服务是由下层向上层通
过层间接口提供的。
 上层使用服务原语服务原语获得下层所提供的服务。

服务访问点
 同一系统相邻两层的实体进行交互的地方，称
为
同一系统相邻两层的实体进行交互的地方，称
为服务访问点服务访问点 SAP (Service Access Point)。
 服务访问点服务访问点SAP是一个抽象的概念，它实际上
就是一个逻辑接口。
是一个抽象的概念，它实际上
就是一个逻辑接口。
 OSI把层与层之间交换的数据的单位称为服务数
据单元
服务数
据单元 SDU (Service Data Unit)。
 SDU 可以与可以与 PDU 不一样，例如，可以是多个
SDU 合成为一个 PDU，也可
## 1.7.4  实体、协议、服务和服务访问点
协议很复杂
 协议必须把所有不利的条件事先都估计到，而
不能假定不能假定一切都是正常的和非常理想的。
 看一个计算机网络协议是否正确，不能光看在
正常情况下是否正确，还必须非常仔细地检查
这个协议
看一个计算机网络协议是否正确，不能光看在
正常情况下是否正确，还必须非常仔细地检查
这个协议能否应付各种异常情况。

【例【例1-1】著名的协议举例
 占据东、西两个山顶的蓝军 1 和蓝军和蓝军 2 与驻扎在山
谷的白军作战。其力量对比是：单独的蓝军
与驻扎在山
谷的白军作战。其力量对比是：单独的蓝军1或蓝军或蓝军
2打不过白军，但蓝军 1 和蓝军和蓝军 2 协同作战则可战胜
白军。现蓝军
协同作战则可战胜
白军。现蓝军 1 拟于次日正午向白军发起攻击。于
是用计算机发送电文给蓝军
拟于次日正午向白军发起攻击。于
是用计算机发送电文给蓝军 2。但通信线路很不好，
电文出错或丢失的可能性较大（没有电话可使用）。
因此要求收到电文的友军必须送回一个确认电文。但
此确认电文也可能出错或丢失。
。但通信线路很不好，
电文出错或丢失的可能性较大（没有电话可使用）。
因此要求收到电文的友军必须送回一个确认电文。但
此确认电文也可能出错或丢失。试问能否设计出一种
协议使得蓝军
试问能否设计出一种
协议使得蓝军 1 和蓝军和蓝军 2 能够实现协同作战，因而
一定（即
能够实现协同作战，因而
一定（即 100 %而不是而不是 99.999…%）取得胜利？）取得胜利？
结论
 这样无限循环下去，两边的蓝军都始终无法确
定自己最后发出的电文对方是否已经收到。
这样无限循环下去，两边的蓝军都始终无法确
定自己最后发出的电文对方是否已经收到。
 没有一种协议能够使蓝军 100% 获胜。获胜。
 这个例子告诉我们，看似非常简单的协议，设
计起来要考虑的问题还是比较多的。

---
## 1.7.5  TCP/IP 的体系结构
`TCP/IP` 体系结构的另一种表示方法

实际上，现在的互联网使用的 TCP/IP 体系结构有时已
经发生了演变，即某些应用程序可以直接使用
体系结构有时已经发生了演变，即某些应用程序可以直接使用 IP 层，或甚至直接使用最下面的网络接口层。
