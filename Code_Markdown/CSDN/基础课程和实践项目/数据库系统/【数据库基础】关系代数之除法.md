 除法运算的定义：除法运算 $\div$ 是同时从关系的水平和垂直方向进行运算。

给定关系 $R(X,Y)$ 和 $S(Y,Z)$，$X,Y,Z$ 为属性组。$R \div S$ 为：元组在 $X$ 上的分量值 $x$ 的 像集 $Y_x$ ，**包含** 关系 $S$ 在属性组 $Y$ 上投影 $\pi_y(S)$ 的 **集合**。形式定义：
$$R \div S = \{\ t_n[X]\quad |\quad  t_n \in R \wedge \pi_y(S) \subseteq  Y_x\}$$

这个概念非常抽象，我反正是没有听懂的。所以，这里通过一个实例来说明除法运算的求解过程：
  
  设有关系 $R、S$ 如图所示，求 $R÷S$ 的结果：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200322193125378.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
求解步骤过程：
1. 第一步：找出被除关系 $R$ 和关系 $S$ 中 **相同的属性列**，即 $Y$ 属性。关系 $S$ 中对 $Y$ 做投影（即将 $Y$ 无重复的列举出）；所得结果如下：
<img src="https://img-blog.csdnimg.cn/2020032219323152.png" width = "6%">
2.  第二步：找出被除关系 $R$ 中与 $S$ 中**不相同的属性列**，即 $X$ 属性。关系 $R$ 中对 $X$ 做投影（即将 $X$ 无重复的列举出）；所得结果如下：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200322193449400.png)
3.  第三步：求关系 $R$ 中 $X$ 属性对应的 **像集** $Y$。根据关系 $R$ 的记录，可以得到与 $X_1$ 值有关的记录，如图3所示，与 $X_2$ 有关的记录，如图4所示：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200322193641182.png)


4. 第四步：**判断包含关系**。$R÷S$ 其实就是判断关系 $R$ 中 $X$ 各个值$x$ 的像集 $Y_x$ 是否包含关系 $S$ 中属性 $Y$ 的所有值。对比即可发现：
   * $X_1$ 的像集只有 $Y_1$，不能包含关系 $S$ 中属性 $Y$ 的所有值，所以排除掉 $X_1$；
   * $X_2$ 的像集包含了关系 $S$ 中属性 $Y$ 的所有值，所以 $R÷S$ 的最终结果就是 $X_2$。

       


也许现在有点明白除法运算是如何操作的了，下面来引申一下，**除法运算可以解决什么问题呢**？

$e.g.$ 设有关系 $R，S$ 以及 $RS$，如图所示，求 $RS÷S$ 的结果：
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200322194540961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)  
重复一遍上面的求解过程：
1. 找到 关系 $RS$ 和 $S$ 中相同的属性列 $课程名$，即为 $Y$ 属性，对其投影，得到 $\pi_{课程名}(RS) = \{语文, 数学\}$。
2. 找到关系 $RS$ 中和 $S$ 不相同的属性列 $学生名$，即为 $X$ 属性，对其投影，得到 $\pi_{学生名}(RS) = \{张三, 李四\}$。
3. 对于 $X$ 属性中的每一个分量值 $x$，有像集 $Y_x$：张三的像集为 $\{语文, 数学\}$；李四的像集为 $\{语文\}$。
4. 判断包含关系，只有张三包含了关系 $S$ 中的属性 $Y$ 的所有值，因此求得结果为：$\{张三\}$。 
 
所以，可以容易看出来 $RS÷S$ 在这里解决的问题就是：“**得到选修了所有课程的学生**”。$RS÷S$ 的意义就是：“在 $R$ 和 $S$ 的联系 $RS$ 中，找出与 $S$ 中 **所有的元组有关系** 的 $R$ 元组”。

