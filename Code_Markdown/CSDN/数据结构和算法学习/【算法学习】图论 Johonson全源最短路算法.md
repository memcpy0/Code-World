@[toc]

对于全源最短路问题，可以用 `Floyd-Warshall` 全源最短路径算法 $O(V^3)$ ，这就几乎是最优秀的复杂度。

如果将其作为单源最短路问题的推广，即**分别以每个顶点作为源顶点、并求其到其他顶点的最短距离**：
- 可以对每个顶点用 `Bellman-Ford` 算法，得到所有顶点间的最短路径的运行时间为 $O(V^2E)$ ；
- 或者对每个顶点应用 `Dijkstra` 算法，得到所有顶点间最短路径的运行时间为 $O(VE + V^2\log V)$ 。这似乎优于 `Floyd-Warshall` 算法的 $O(V^3)$ ，但考虑到 `Dijkstra` 算法要求图中所有边的权值非负，不适合通用的情况。
- 似乎忘了什么，不过算了，毕竟 `SPFA` 已经死了。

`Donald B. Johnson` 在1977年提出了对所有边的权值进行 `re-weight` 的算法啦，使得所有边的权值非负，进而可以使用 `Dijkstra` 算法进行全源最短路的计算。事实上，我也有过类似这样的想法——比如求最长路，想到将每条边的权值取负，然后用允许负边的最短路算法计算？不过只是想想而已。

我们思考一下，如何进行 `re-weight` 操作。最简单的想法，就是对每条边的权值加一个数，使得它们都变成正数，可行吗？我们可以举出如下的反例：


