（试卷题目一共分为两种类型的题目：必做题和选做题。必做题一共两题，每题35分，小计70分；选做题一共两道，任选一道进行答题，分数是30分。必做题只需要给出**算法说明、运行结果和代码**即可；选做题需要**给出论文、程序说明、运行结果和代码**。大作业提交截止日期：2020年6月14日20：00之前发给本班班长，班长收集齐后打包发给任课老师。）

---
# 一、必做题（70分，每题35分。）
## （一）、地图导航算法的实现
相信大家都用过手机的导航软件，基于测绘的二维地图，输入起点和终点，导航软件给出按照某种导航算法，**实时计算最优路径**。许多研究院提出了多个路径规划算法，其中以 `contraction hierarchies` 和 `highway hierarchies` 较出名，加之微软研究院提出的 `Customizable Route Planning` ，与传统的 `A-star` ，基本上支撑了目前工业界地图产品的路径规划服务。

你的任务是：假设城市数是 $50$ 个，编号从 $1$ 到 $50$ 。城市之间的距离由数据文件给定（**有向边**）。你尝试实现一种算法，在给定起点 `1` 和终点 `10` 后，**生成一条最优或者近似最优的最短路径**。测试数据由文件 `path.txt` 给定，评分标准为：路径越短分值越高。
<img src="https://img-blog.csdnimg.cn/2020061018462551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70" width="40%">

## （二）、TSP问题的求解
<img src="https://img-blog.csdnimg.cn/20200610184824230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70" width="40%">

旅行商问题，即TSP问题（ `Traveling Salesman Problem` ）又译为旅行推销员问题、货郎担问题，是数学领域中著名问题之一。假设有一个旅行商人要拜访 $n$ 个城市，他必须选择所要走的路径，路径的限制是**每个城市只能拜访一次**，而且最后要回到原来出发的城市。路径的选择目标是要求得的路径路程为所有路径之中的最小值。你的任务是：假设每个城市的二维坐标给定，所有城市都直接有边相连（双向边），距离为欧氏距离。你尝试实现一种算法，求解一条最优或者近似最优的TSP路径。测试数据由文件tsp.txt给定，评分标准为：路径越短（已知最优解是72）分值越高。



----

# 二、选做题(任意选择一题进行答题，30分。)
## （三）、构建地下物流系统网络
交通拥堵是世界大城市都遇到的“困局”之一。 2015年荷兰导航经营商TomTom发布了全球最拥堵城市排名，中国大陆有十个城市位列前三十名。据中国交通部2014年发布的数据，我国交通拥堵带来的经济损失占城市人口可支配收入的20%，相当于每年国内生产总值(GDP)损失 `5~8%` 。15座大城市的居民每天上班比欧洲发达国家多消耗28.8亿分钟。大量研究表明：“时走时停”的交通导致原油消耗占世界总消耗量的20%。高峰期，北京市主干线上300万辆机动车拥堵1小时所需燃油为240万~330万升。2015年城市交通规划年会发布数据显示：在石油消费方面，我国交通石油消费比重占到了消费总量的54%，交通能耗已占全社会总能耗10%以上，并逐年上升。高能耗也意味着高污染和高排放。
导致城市交通拥堵的主要原因是交通需求激增所带来的地面道路上车辆、车次数量巨增，其中部分是货物物流的需求增长。尽管货车占城市机动车总量的比例不大，但由于货运车辆一般体积较大、载重时行驶较慢，车流中如果混入重型车，会明显降低道路的通行能力，因此，其占用城市道路资源的比例较大。如北京，按常规的车辆换算系数（不同车辆在行驶时占用道路净空间的程度），货运车辆所占用的道路资源达40%。因此，世界各国都在为解决城市交通和环境问题进行积极探索，而处理好货运交通已成为共识。大量实践证明，仅通过增加地面交通设施来满足不断增长的交通需求，既不科学也不现实，地面道路不可能无限制地增加。因此“统筹规划地上地下空间开发”势在必行，“地下物流系统”正受到越来越多发达国家的重视。
地下物流系统（Underground Logistics System——ULS）是指城市内部及城市间通过类似地铁的地下管道或隧道运输货物的运输和供应系统。它不占用地面道路，减轻了地面道路的交通压力，从而缓解城市交通拥堵；它采用清洁动力，有效减轻城市污染；它不受外界条件干扰，运输更加可靠、高效。地面货车的减少同时带来巨大的外部效益，如路面损坏的修复费用，环境治理的费用，可以用于补偿地下物流系统建设的高投资。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200610185316680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
图1和图2描绘的分别是日本和德国对ULS的设计构想图。图1进一步描绘了地下节点的运作状况；图2侧重于ULS与其他地下设施的平行关系，在复杂的地下空间条件下实施ULS的空间并不富余。图3中展示的分别是运载车辆形式设计及运输通道的形式。
然而ULS的研究与实践还刚刚兴起，尚无成熟、成功的案例可供借鉴。尽管国内外在发展地下物流的必要性、可行性、技术系统和建造管理等方面取得了不少重要的研究成果，但地下物流系统是涉及地上与地下、物流与工程、技术与管理等多个学科领域的复杂巨系统，而且相比于其他物流方式，ULS复杂，造价高，风险大，不成功则损失巨大，而现有研究成果还处于“试验”阶段，相对单一，尚无系统的理论支撑其走向实际应用，尤其是迄今为止世界上还没有一个城市规模的成功案例，失败的情况反而有几个。因此，亟待进行城市规模的前瞻性研究，为发展地下物流系统的理论和实践进行探索。
我国人口众多、大城市密集、交通状况不佳已经到了迫切需要改善的程度，而且我国城市地铁网络的建设、高铁公路隧道的建造正大规模地进行，地下空间开发利用的规模和速度已居世界前列，地下工程的技术水平也已基本满足需要，ULS应该提上议事日程。撇开可行性、工程技术问题，构建地下物流系统网络是建设“地下物流系统”必不可少的关键步骤。
地下物流系统的基本特征：
1. 建造与运营成本高；网络形式多样（环型、树形、网状等等）且随区域特征变化。
2. 地下物流无法完全替代地面物流，“多式联运”是其重要运输组织方式。
多式联运：由两种及两种以上的交通工具相互衔接、转运而共同完成的运输过程统称为复合运输，我国习惯上称之为多式联运。如地下物流-公路运输，公路-铁路。
3. 对于货物单一、流量大且稳定、地面交通差的区域应优先建立线路。
4. 地下物流系统可以适应不同货物的运输需求，管道或隧道直径可根据需求进行设计。运行速度可以达到20-60 公里/小时，同一线路上同向两班车运行间隔2分钟以上。
5.地下物流网络由一级、二级节点和节点间地下通道构成。各级节点均与地面衔接并实现多式联运。一级节点与物流园区相连且采用10吨的大型车辆地下运输，并可跨区域调运货物，从地面收发货物总量上限为4000吨，一级节点之间连通。二级节点从地面收发货物总量上限为3000吨，且与非本区域一级节点仅通过本区域一级节点连通。
车辆参数（供参考）
- 一班车一般由四至八节车辆构成；
- 两种型号的车辆设计载重分别为10吨、5吨；
- 运行速度13.5米/秒（约49公里/小时）；
- 加（减）速度：1 米/秒2；
- 电压：三相380伏，频率：50赫兹，单个直线电机感应板电流：460安；
- 转弯半径70-80米；
- 每个节点每12分钟可发车一班（含装卸货物、启动和等待时间），每小时最多发车5班，每天可以运营18小时（每天剩余为检修时间）。
- 尽量采用双向双轨（双洞）的隧道形式，在货运量特别大的线路可设置双向四轨（双洞）。
题目给出了南京市仙林地区的交通货运区域划分图和相应的货运OD（Origin Destination）流量矩阵（只考虑始发地和目的地的货运流量，不考虑在此之间的途径地）、各区域中心点及区域面积、各区域交通拥堵系数（为简化计算，部分数据经过处理）。其他相关数据可以自行查找，收集你们认为与建立该区域“地下物流系统”网络有关的数据资料。
请完成以下任务：
发展城市地下物流网络的两个直接目标：一是缓解交通拥堵直至交通畅通，至少基本畅通；二是降低物流成本。
1. 地下物流节点选择；根据你们的观点和该区域的实际情况建立该区域节点选择模型，确定该区域地下物流网络节点群。
计算结果需要但不限于提交：一、二级节点数及位置、各节点的服务范围（经该节点出、入地面货物的起或讫点形成区域）、各节点实际货运量、各一级节点的转运率。
① 交通拥堵指数取值范围为0至10，每2个数为一等级，分别对应“0-2畅通”、“2-4基本畅通”、“4-6轻度拥堵”、“6-8中度拥堵”、“8-10严重拥堵”五个级别，数值越高，表明交通拥堵状况越严重。由于该地区非人口高度密集区，可以近似认为区域交通拥堵指数与OD数据反映出来的区域总货运量（进、出之和）成正比，考虑到比例关系给出的指数最高值可以大于10。（为简化计算，拥堵指数计算仅根据货运量）。
② 一级节点的转运率（φ）：从物流园区经由最近的一级节点转运至其他所有一级节点的货物量占该物流园区总出货量的百分比，称为该一级节点的转运率。由于需要更换运输车辆，在满足运输要求前提下，转运率低可减少工作量。
③ 考虑到部分区域货运量与面积之比过小，若节点覆盖了某区域中心点即可视为对该区域进行了覆盖。
④ 所有节点的服务半径在 3 公里范围内自由选择，节点间距离不受限制。
⑤ 货物从二级节点至地面后采用人力或小型车辆在节点服务区域内进行运输，可认为不影响交通。
⑥ 进出4个物流园区的货物尽最大可能放入地下运输，区域内部的货物根据拥堵情况自行考虑。
2. 地下通道网络设计；请你们在地下物流网络节点群的基础上选择合适的地下路线以建立该区域的“地下物流系统”网络。在转运率变化不大的情况下，若考虑优化网络，可适当调整一、二级节点位置。除园区至一级节点的地下通道外其他地下通道均采用5吨的地下运输车辆。
计算结果需要但不限于提交：网络构成（节点及通道位置）；各节点实际货运量；各级通道的位置和实际流量。
① 地下节点及通道内的货物每天要清仓。
② 每两个相邻节点间地下物流通道双向尺寸一致，以单向流量较大的为设计原则。
③ 要求总成本最小。每天的总成本由货物的运输成本和地下物流隧道与节点的折旧构成。
假设每吨货每公里的平均运输成本始终相等，约为1元/吨·公里（已计入车辆和设备折旧），与所经过的隧道尺寸无关。
地下物流隧道与节点的建设成本为：双向四轨（双洞）（10吨）造价5亿元/公里，双向双轨（双洞）（10吨）造价4亿元/公里，双向四轨（双洞）（5吨）造价3.5亿元/公里，双向双轨（双洞）（5吨）造价3亿元/公里，一级、二级节点的建设成本分别约为1.5亿元/个、1亿元/个；通道与节点的设计年限100年，年综合折旧率均为1%。
④ 不考虑物流园区的建设及园区内的地下节点建设，但从园区出发的通道长度需要计入总成本。
3. 网络改进；以上是分步设计网络，并未从全局出发，根据你们对运行情况的仿真，上面得到的网络有无修改的必要？能否通过增加、减少节点的个数，调整节点的位置或级别，增加、减少、改变路径的方法縮短货物运输总里程（同时节省运输时间），降低运输成本。
进一步从增强ULS的抗风险能力（如某通道中断，某方向货运量激增）考虑，需要对第二问的ULS作怎样的改动？
4. 建设时序与动态优化；“地下物流系统”造价高，风险大，改建困难，所以应做好顶层设计，如果希望考虑满足该市近30年内的交通需求（可以认为需求量每年呈5%增长）并根据建设进度分八年完成“地下物流网络系统”的建设（每年可建设道路长度大致相等），请给出该市“地下物流系统”网络各线路的建设时序及演进过程，与你在第三题中设置的网络有什么差别？并比较优劣。
① 图5为地下物流整体网络可能的演进示意。
② 随着需求量逐年增长，你在第三题中设计的网络是否仍然可行？何时班次和每班车的车厢节数达到满载，如何进行扩容处理？例如：建设期考虑增加线网容量、增设节点等。

 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200610185504828.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
附件包含：
南京市仙林区域的交通货运区域划分图和相应的货运OD流量矩阵（单位：吨，表中数据表示横轴对纵轴的发货量）、各区域面积及中心点坐标（单位：米）、各区域交通拥堵系数。


## （四）、110警车配置及巡逻方案
110警车在街道上巡弋，既能够对违法犯罪分子起到震慑作用，降低犯罪率，又能够增加市民的安全感，同时也加快了接处警（接受报警并赶往现场处理事件）时间，提高了反应时效，为社会和谐提供了有力的保障。
考虑某城市内一区域，为简化问题，假定所有事发现场均在下图的道路上。该区域内三个重点部位的坐标分别为：（5112，4806），（9126， 4266），（7434 ，1332）（见下图红点部位，蓝色部分为水域，道路数据见附件,相邻两个交叉路口之间的道路近似认为是直线）。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200610185413424.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
某城市拟增加一批配备有GPS卫星定位系统及先进通讯设备的110警车。设110警车的平均巡逻速度为20km/h，接警后的平均行驶速度为40km/h。警车配置及巡逻方案要尽量满足以下要求：
D1. 警车在接警后三分钟内赶到现场的比例不低于90％；而赶到重点部位的时间必须在两分钟之内。
D2. 使巡逻效果更显著； 
D3. 警车巡逻规律应有一定的隐蔽性。
请回答以下问题：
一. 若要求满足D1,该区最少需要配置多少辆警车巡逻？
二. 请给出评价巡逻效果显著程度的有关指标。
三．请给出满足D1且尽量满足D2条件的警车巡逻方案及其评价指标值。
四.  在第三问的基础上，再考虑D3条件，给出你们的警车巡逻方案及其评价指标值。
五．如果该区域仅配置10辆警车，应如何制定巡逻方案，使D1、D2尽量得到满足？ 
六. 若警车接警后的平均行驶速度提高到50km/h，回答问题三。
七. 你们认为还有哪些因素、哪些情况需要考虑？给出你们相应的解决方案。
第三、五、六问的巡逻方案结果请按规定格式分别存入文件“队号-Result3.txt”、“队号-Result5.txt”及“队号-Result6.txt”中。

[注] 必须严格按照以下格式保存结果数据，评阅论文时将用计算机验证你们的结果，作为评分参考依据。
在电子文档中（纸质版中仅需要提供警车巡逻方案及其评价指标值）以附录形式提供第三、第五、第六问中白天任意连续4小时内的各警车的正常巡逻位置数据，巡逻位置数据请按规定格式分别保存为文本文件，文件名分别为：队号-Result3.txt、队号-Result5.txt和队号-Result6.txt，时间间隔为1分钟，即每隔1分钟记录下各警车位置，每辆警车的位置数据用(xxx,yyy)表示，不同警车间的位置数据用“，”隔开，第1辆警车位置与时间之间用“，”隔开，各个时刻的最后一辆警车位置数据后不加“，”，每一时刻的数据另起一行，文件以End结尾，数据格式为：
警车数目，评价指标值
时间1，警车1位置，警车2位置，……警车n位置
时间2，警车1位置，警车2位置，……警车n位置
……
End
例如：假设有警车4辆，评价指标值为m1，m2，…，在0s时都位于各自起点(xi,yi)，1分钟时，位置分别为(a1,b1),(a2,b2),(a3,b3),(a4,b4), 2分钟时，位置分别为(c1,d1),(c2,d2),(c3,d3),(c4,d4), 则此时文件记录为：
4，m1，m2，…
0, (x1,y1),(x2,y2),(x3,y3),(x4,y4)
1,(a1,b1),(a2,b2),(a3,b3), (a4,b4)
2,(c1,d1),(c2,d2),(c3,d3),(c4,d4)
……
End
