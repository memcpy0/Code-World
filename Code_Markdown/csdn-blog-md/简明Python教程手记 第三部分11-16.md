## 第11章 面向对象的编程
> 在大多数时候你可以使用过程性编程，但是有些时候当你想要编写大型程序或是寻求一个更加合适的解决方案的时候，你就得使用面向对象的编程技术。

- 对象可以使用普通的`属于对象的变量`存储数据。属于一个对象或类的变量被称为域。
  - 也就是说在类顶层通过赋值定义的变量属于类的属性。
- 对象也可以使用`属于类的函数`来具有功能。这样的函数被称为类的方法。
- 域和方法可以合称为`类的属性`。
- 域有两种类型——属于每个实例的对象或属于类本身。它们分别被称为`实例变量和类变量`。
- 所以还有实例的属性等。
- **类属性(方法和变量)被全体实例共享，当某个对象对类的变量做了改动的时候，这个改动会反映到所有其他的实例上。**
- **实例属性仅被该实例使用，因此每个对象有自己对这个域的一份拷贝，即它们不是共享的，在同一个类的不同实例中，虽然对象的变量有相同的名称，但是是互不相关的。**

- self：类方法必须有一个额外的第一个参数名称，但是在调用这个方法的时候你不为这个参数赋值，Python会提供这个值。这个特别的变量指实例本身，按照惯例它的名称是self。
```python
# for example
class MyClass:
	pass

myObject = MyClass()
myobject.method(arg1,arg2) 
# equal MyClass.method(myobject,arg1,arg2)  
```
    其实在《笨办法学Python》中已经提及了。

- 使用类名后跟一对圆括号来创建一个对象/实例。

- `__init__方法`：Python的类中有很多方法的名字有特殊的重要意义，如`_init__`，用的最多的运算符重载方法。
  - __init__方法在类的一个实例被建立时，马上运行。以初始化实例属性。
  - 最重要的是，我们不用专门调用`__init__`方法，只是**在创建一个类的新实例的时候，把参数包括在圆括号内跟在类名后面，从而传递给`__init__`方法。**这是这种方法的重要之处。

> 记住，你只能使用self变量来参考同一个对象的变量和方法。这被称为 属性参考。

- docstring对于类和方法同样有用。

- 特殊的方法`__del__`，它在对象消逝的时候被调用。对象消逝即对象不再被使用，它所占用的内存将返回给系统作它用。
  - 当对象不再被使用时，`__del__`方法运行，但是很难保证这个方法究竟在 什么时候 运行。如果你想要指明它的运行，你就得使用`del语句`，就如同我们在以前的例子中使用的那样。

- 继承 ——在面向对象编程中实现代码重用的方法之一，完全可以理解成类之间的`类型和子类型`关系。
  - 为了使用继承，我们把基本类的名称作为一个元组跟在定义类时的类名称之后。
 
  - Python总是首先查找对应类型的方法，如果它不能在导出类中找到对应的方法，它才开始到基本类中逐个查找。基本类是在类定义的时候，在元组之中指明的。

  - Python不会自动调用基本类的constructor，我们要专门调用基本类的`__init__`方法，这样我们就可以**初始化对象的基本类部分**。
  
  - 如果在继承元组中列了一个以上的类，那么它就被称作**多重继承** 。

## 第12章 输入/输出
除了print和input外，另一个常用的输入/输出类型是处理文件。创建、读和写文件的能力是许多程序所必需的。

不过这本书这篇过时了，所以跳过。

- 储存器：Python提供一个标准的模块，称为pickle。使用它你可以在一个文件中储存任何Python对象，之后你又可以把它完整无缺地取出来，即**对象持久化储存**。

## 第13章 异常
>当你的程序中出现某些异常的状况的时候，异常就发生了。

- 可以使用`try-except`语句来处理异常：
 - SyntaxError 语法错误；
 - EOFError 不期望的文件尾。

- 我们把所有可能引发错误的语句放在try块中，然后在except从句/块中处理所有的错误和异常。
 
 - except从句可以专门处理**单一的**错误或异常，或者**一组**包括在圆括号内的错误/异常。如果没有给出错误或异常的名称，它会处理**所有的**错误和异常。

 - 对于每个try从句，至少都有一个相关联的except从句。
> 这个可不一定，还有try-finally这种格式。

  - 如果某个错误或异常没有被处理，**默认的Python处理器**就会被调用。它会终止程序的运行，并且打印一个消息。
  - 还可以让`try-except`块关联上一个else从句。**当没有异常发生的时候，else从句将被执行**。

- **引发异常**：使用raise语句引发异常，还得指明错误/异常的**名称**和伴随**异常触发的异常对象**，可以引发的错误或异常应该是一个**Exception类的直接或间接导出类**。

- try-finally：在读一个文件的时候，希望在无论异常发生与否的情况下都关闭文件。

## 第14章 Python标准库
### sys模块
sys模块包含系统对应的功能：

- `sys.argv`：命令行参数；
- `sys.version`：字符串给你提供安装的Python的版本信息；
- `sys.version_info`：元组则提供一个更简单的方法来使你的程序具备Python版本要求功能；
- `sys.stdin、sys.stdout和sys.stderr`：它们分别对应你的程序的标准输入、标准输出和标准错误流。

### OS模块
> 模块包含普遍的操作系统功能，如果你希望你的程序能够与平台无关的话，这个模块是尤为重要的。即它允许一个程序在编写后不需要任何改动，也不会发生任何问题，就可以在Linux和Windows下运行。

常用方法：

-  `os.name`：字符串指示你正在使用的平台。比如对于Windows，它是`'nt'`，而对于Linux/Unix用户，它是`'posix'`。

- `os.getcwd()`：函数得到当前工作目录，即当前Python脚本工作的目录路径。

- `os.getenv()`和`os.putenv()`：函数分别用来读取和设置环境变量。

- `os.listdir()`：返回指定目录下的所有文件和目录名。

- `os.remove()`：函数用来删除一个文件。

- `os.system()`：函数用来运行shell命令。

- `os.linesep`：字符串给出当前平台使用的行终止符。例如，Windows使用`'\r\n'`，Linux使用`'\n'`而`Mac`使用`'\r'`。

- `os.path.split()`：函数返回一个路径的目录名和文件名。

- `os.path.isfile()`和`os.path.isdir()`函数分别检验给出的路径是一个文件还是目录。

- 类似地，`os.path.exists()`函数用来检验给出的路径是否真地存在。

这些命令在Python3中没有改变，在系统编程中是很重要的。

## 第15章 更多Python的内容
### 特殊的方法
在类中有一些特殊的方法具有特殊的意义，它们都被用来都被用来模仿某个行为。

> 如果你想要知道所有的特殊方法，你可以在《Python参考手册》中找到一个庞大的列表。

**如果看不太懂中文，可以搜索中文版的文档，多看一些，然后迁移到中文版上。**

### 单语句块
如果你的语句块**只包含一句语句**，那么你可以在**条件语句或循环语句的同一行**指明它。
```python
>>> flag = True
>>> if flag: print 'Yes'
Yes
```
如示例所示。

### 列表综合
其实就是讲的列表解析。

### 在函数中接收元组和列表
当要使函数接收**元组或字典形式**的参数的时候，有一种特殊的方法，它分别使用`*和**`前缀。这种方法在函数需要获取**可变数量**的参数的时候特别有用。

### lambda形式
`lambda语句`被用来创建新的函数对象，并且在运行时返回它们。

该表达式用来创建函数对象。本质上，lambda语句**需要一个参数，后面仅跟单个表达式作为函数体，而表达式的值被这个新建的函数返回**。

而print在Python2中是一条语句，在Python3中是函数，都不可能用在lambda中。

### exec和eval语句
- exec语句用来执行储存在**字符串或文件**中的**Python语句(Python statements)**。

- eval语句用来计算存储在**字符串**中的**有效Python表达式(Python expression)**。
```python
# python3
>>> exec("print('Yes')")
Yes
>>> eval("print('Yes')")
Yes
>>> eval('2+3')
5
>>> exec('2+3')
>>>
```
这两者既有差别，也有相同的地方。可以自己用dir()查看一下。

### assert语句和repr函数
- 当assert语句失败的时候，会引发一个`AssertionError`。

- repr函数用来取得对象的规范字符串表示。可以通过定义类的`__repr__`
方法来控制你的对象在被repr函数调用的时候返回的内容。即**运算符重载**。

## 第16章 接下来学习什么？
### 探索更多内容
> ● Python标准库是一个丰富的库，在大多数时候，你可以在这个库中找到你所需的东西。
> 这被称为Python的“功能齐全”理念。我强烈建议你在开始开发大型Python程序之前浏览一下Python标准文档。

> ● Python.org——Python编程语言的官方主页。你可以在上面找到Python语言和解释器的最新版本。另外还有各种邮件列表活跃地讨论Python的各方面内容。

