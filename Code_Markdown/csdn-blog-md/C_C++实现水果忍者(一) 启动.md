@[toc]

## 思路和想法
水果忍者是经典的小游戏。
> 《水果忍者》（Fruit Ninja），是由澳大利亚公司Halfbrick Studios开发的一款休闲益智类游戏，于2010年4月20日在iOS平台推出。 这款游戏的创意来源也非常简单，就是一位员工在家里看到电视播放销售水果刀的广告，为了体现出刀的锋利，广告里推销员把香蕉抛向空中，然后用水果刀在空中把香蕉切开。

> **背景设定**
游戏的操作极为简单，屏幕上会不断跳出各种水果——西瓜、凤梨、猕猴桃、草莓、蓝莓、香蕉、石榴、杨桃、苹果、火龙果等，玩家看到抛出的水果看准用手指在屏幕上移动划过去，就可以像忍者战士一样痛快地斩开水果了，在它们掉落之前要快速地全部砍掉。
不过除了很多被抛出的水果外，也会出现混杂着炸弹一类的东西，一旦切到就会引发爆炸。水果有大有小，小的水果比较不容易斩到。
切开不同的水果，会看到不同颜色的鲜艳果肉，而且像一些水分多的水果，各种颜色的果汁飞溅到半空，或者飞溅到墙上。
游戏没有独特的配乐，只有斩开水果的声音和清脆的鸟叫声。

>主要模式
水果忍者的单人游戏共有三种不同的模式可供玩家选择，随着版本的不断更新还可能会推出更多的模式。
>1. 经典模式（图标为西瓜）：在经典模式中无时间限制，水果和炸弹会不断浮动出现在屏幕上。玩家共有三次因没有切到水果而失误的机会，而只要一切到炸弹游戏就会马上结束。每积累到100分就会自动补充一次以前失去的机会。此模式中会随机出现石榴（连切来加分，分数高低，取决于玩家切的速度）、火龙果（切掉可以+50分）和杨桃（切掉+150；175；200分，分数高低随机）。
> 2. 限时模式（图标为苹果）：还被称为时间模式或禅模式，计时时间为一分半（90秒），没有炸弹，只会不断出现水果，玩家全凭技巧将尽可能多的水果块切片，还有一定几率从屏幕左右侧弹出很难切割的新奇水果。
> 3. 街机模式（图标为香蕉）：在街机模式中，会同时出现水果和炸弹，计时时间为1分钟（60秒），目的也是为了获取更多的分数，切到一个炸弹不会导致游戏结束而是扣10分并减少时间。该模式中拥有三种不同的特殊香蕉——寒冰蕉（蓝+白色冻结香蕉）可以使时间暂停并且大幅度减缓水果的飞行速度；狂热蕉（红+黄色狂热香蕉）可以让短时间内切出的分数加倍；双倍蕉（蓝+黄色双倍香蕉）可以使大量水果从屏幕两侧不断飞出。此外，在该模式中还得躲避紫炸弹。连击次数足够时可得到出击加分。并且在结束后有奖励分。

>计分标准
（1）在没有连击的情况下（即每次一刀只切中1-2个水果），每个水果计1分，火龙果50分。
（2）在有连击的情况下（同时切中3个及以上数量的水果），无论连击的数量是多少，都是将切中的水果数×2来计分。也就是说，切两次连击3，和切一次连击6，能拿到的分数是一样的。
（3）在切中水果正中心时会有会心一击提示，一次+10分。
（4）街机模式中连续连击时会发动额外奖分，最高为30分 [3]  

我们要做的是**一个水果忍者的游戏的子集**。水果不会太多，连击也不会做，会做炸弹。但是即使这样工作量还是有点大。用C++面向过程的写法。最后用面向对象重构。

先明确一些代码命名规范：
- 常量：蛇形写法，全为大写字母，每个单词间用_分隔；
- 变量：蛇形写法，全部小写字母，每个单词间用_分割；
- 函数：驼峰式写法，首单词小写，后面的单词首字母大写；
- 类：驼峰式写法，首单词首字母大写，后面的单词同样首字母大写；
- 程序文件名：和文件中的主要类名相同；
- 资源文件名：和变量名的要求一样，如apple, apple_mask，表示出资源的含义；
- 这些标识符全部使用字母，不包括特殊字符；
- 大括号{}一律左括号之后换行，右括号单独一行；

## 起步：显示背景
背景图:
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191111224832193.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
工程现在很简单，图片也简单放在里面，但这是一个好的开始：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191111230041399.png)
```cpp
#include <easyx.h>
#include <conio.h>
#define WIDTH 640
#define HEIGHT 480

IMAGE img_bk;

void startup() {
	initgraph(WIDTH, HEIGHT);
	loadimage(&img_bk, _T("../background.jpg"), WIDTH, HEIGHT);
}

void show() {
	putimage(0, 0, &img_bk);
}

void updateWithInput() {

}

void updateWithoutInput() {

}

int main() {
	startup();
	while (true) {
		show();
		updateWithInput();
		updateWithoutInput();
	}
	return 0;
}
```

![在这里插入图片描述](https://img-blog.csdnimg.cn/2019111123011528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215UmVhbGl6YXRpb24=,size_16,color_FFFFFF,t_70)
