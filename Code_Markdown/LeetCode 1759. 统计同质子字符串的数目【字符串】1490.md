> 本文属于「征服LeetCode」系列文章之一，这一系列正式开始于2021/08/12。由于LeetCode上部分题目有锁，本系列将至少持续到刷完所有无锁题之日为止；由于LeetCode还在不断地创建新题，本系列的终止日期可能是永远。在这一系列刷题文章中，我不仅会讲解多种解题思路及其优化，还会用多种编程语言实现题解，涉及到通用解法时更将归纳总结出相应的算法模板。
> <b></b>
> 为了方便在PC上运行调试、分享代码文件，我还建立了相关的仓库：[https://github.com/memcpy0/LeetCode-Conquest](https://github.com/memcpy0/LeetCode-Conquest)。在这一仓库中，你不仅可以看到LeetCode原题链接、题解代码、题解文章链接、同类题目归纳、通用解法总结等，还可以看到原题出现频率和相关企业等重要信息。如果有其他优选题解，还可以一同分享给他人。
> <b></b>
> 由于本系列文章的内容随时可能发生更新变动，欢迎关注和收藏[征服LeetCode系列文章目录](https://memcpy0.blog.csdn.net/article/details/119656559)一文以作备忘。

给你一个字符串 `s` ，返回 `s` 中 **同质子字符串** 的数目。由于答案可能很大，只需返回对 `109 + 7` **取余** 后的结果。

**同质字符串** 的定义为：如果一个字符串中的所有字符都相同，那么该字符串就是同质字符串。

**子字符串** 是字符串中的一个连续字符序列。

**示例 1：**
```js
输入：s = "abbcccaa"
输出：13
解释：同质子字符串如下所列：
"a"   出现 3 次。
"aa"  出现 1 次。
"b"   出现 2 次。
"bb"  出现 1 次。
"c"   出现 3 次。
"cc"  出现 2 次。
"ccc" 出现 1 次。
3 + 1 + 2 + 1 + 3 + 2 + 1 = 13
```
**示例 2：**
```js
输入：s = "xy"
输出：2
解释：同质子字符串是 "x" 和 "y" 。
```
**示例 3：**
```js
输入：s = "zzzzz"
输出：15
```
**提示：**
- `1 <= s.length <= 10^5`
- `s` 由小写字符串组成

---
### 解法 遍历
题目给出一个长度为 $n$ 的字符串 $s$ ，并给出「同构字符串」的定义为：如果一个字符串中的所有字符都相同，那么该字符串就是同构字符串。现在要求 $s$ 中「同构子字符串」的数目。

因为「同构子字符串」为一个连续的字符序列、且需要序列中的字符都相同，那么首先按照连续相同的字符来对字符串 $s$ 进行分组，比如对于字符串 $\text{``abbcccaa"}$ 分组结果为 $\text{[a,bb,ccc,aa]}$ 。因为一个组中字符串的任意子串都为「同构子字符串」，而一个长度为 $m$ 的字符串的子字符串的数目为 $\dfrac{m \times (m + 1)}{2}$  。那么对每个组统计其贡献的「同构子字符串」数目并求和即可。
```cpp
class Solution {
public:
    int countHomogenous(string s) {
        const int mod = 1e9 + 7;
        int ans = 0;
        for (int n = s.size(), i = 0, cnt = 0; i < n; ++i) {
            if (i != 0 && s[i] == s[i - 1]) ++cnt;
            else cnt = 1;
            ans = (ans + cnt) % mod;
        }
        return ans;
    }
};
```
复杂度分析：
- 时间复杂度：$O(n)$
- 空间复杂度：$O(n)$