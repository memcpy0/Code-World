**要求**
* 掌握 **put 流程、扩容、扩容因子**

**put 流程**（先把元素插入，再进行扩容）
1. HashMap 是懒惰创建数组的，首次使用需要添加元素了才创建数组
2. 计算索引（桶下标）
3. 如果桶下标还没人占用，创建 Node 占位返回
4. 如果桶下标已经有人占用
   1. **已经是 TreeNode 走红黑树的添加或更新逻辑**
   2. **是普通 Node，走链表的添加或更新逻辑**，如果链表长度超过树化阈值，**走树化逻辑**
5. **返回前检查容量是否超过阈值，一旦超过进行扩容**

当数组中元素的数量超过3/4，每次扩容为原来的2倍，每次都是用一个新的数组替换原来的数组；

**1.7 与 1.8 的区别**
1. 链表插入节点时，1.7 是头插法，**1.8 是尾插法**
2. 1.7 是**大于等于阈值且没有空位（这里的有空位并不是满了才扩容，而是当前插入的位置有空位，即没有发生hash碰撞，大家别理解错了**）才扩容，而 1.8 是**大于阈值就扩容**
3. ==1.8 在扩容计算 Node 索引时，会优化==

**扩容（加载）因子为何默认是 0.75f**
1. **在空间占用与查询时间之间取得较好的权衡**
2. 大于这个值，空间节省了，但链表就会比较长影响性能
3. 小于这个值，冲突减少了，但扩容就会更频繁，空间占用也更多