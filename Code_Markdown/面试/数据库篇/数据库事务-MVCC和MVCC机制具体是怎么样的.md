多版本并发控制(Multiversion concurrency control， MCC 或 MVCC)，是数据库管理系统常用的一种并发控制，也用于程序设计语言实现事务内存。

==MVCC意图解决读写锁造成的多个、长时间的读操作饿死写操作问题==。
- **每个事务读到的数据项都是一个历史快照**，并依赖于实现的隔离级别。**快照隔离使得事务看到它启动时的数据状态**。每个事务对同一张表，同一时刻看到的数据可能是不一样的。
- 
- **写操作不覆盖已有数据项，而是创建一个新的版本**，直至所在操作提交时才变为可见。
 
具体MVCC机制是：
对于 InnoDB ，聚簇索引记录中包含 3 个隐藏的列：
- ROW ID：隐藏的自增 ID，如果表没有主键，InnoDB 会自动按 ROW ID 产生一个聚集索引树。  

MVCC原理
版本链、ReadView(读视图,从代码层面其实是一个结构体,主要做事务可见性判断)
版本链:
	在InnoDB引擎中，每行聚簇索引记录的后面会保存两个隐藏的列：trx_id、roll_pointer。
	trx_id: 用于保存**每次 ？最后一次 对该记录进行修改的事务**的id。
	roll_pointer: 存储一个指针，回滚指针，**指向这条记录上一个版本的地址**，获取到该记录上一个版本的数据信息。
ReadView:
	读已提交和可重复读的区别就在于**它们生成的ReadView的策略不同.**
	读已提交每次查询时都会生成一个新的ReadView
	而**可重复读每次查询都复用第一次生成的ReadView**
	然后分别按照ReadView的访问规则最终实现读已提交和可重复读。
 